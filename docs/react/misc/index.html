<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/react/misc/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Misc - Notebook</title><link rel=stylesheet href=../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#misc tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Misc </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../data-structure-and-algorithms/ title="Data Structure and Algorithms" class=md-nav__link> Data Structure and Algorithms </a> </li> <li class=md-nav__item> <a href=../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../design-patterns/ title="Design Patterns" class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../rest-api/ title="REST API" class=md-nav__link> REST API </a> </li> <li class=md-nav__item> <a href=../../eslint/ title=ESLint class=md-nav__link> ESLint </a> </li> <li class=md-nav__item> <a href=../../javascript/ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../react-native/ title="React Native" class=md-nav__link> React Native </a> </li> <li class=md-nav__item> <a href=../../redux-saga/ title="Redux Saga" class=md-nav__link> Redux Saga </a> </li> <li class=md-nav__item> <a href=../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../firebase/ title=Firebase class=md-nav__link> Firebase </a> </li> <li class=md-nav__item> <a href=../../web-security/ title="Web Security" class=md-nav__link> Web Security </a> </li> <li class=md-nav__item> <a href=../../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#formik-should-know-the-way-it-handle-forms-state class=md-nav__link> Formik - should know the way it handle form's state </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> &amp;&amp; </a> </li> <li class=md-nav__item> <a href=#keys class=md-nav__link> Keys </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#choosing-a-key class=md-nav__link> Choosing a key </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#if-a-parent-component-is-triggered-update-then-does-react-update-all-the-children class=md-nav__link> If a parent component is triggered update then does React update all the children </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#now-does-react-update-the-dom-too-when-update-cycle-run class=md-nav__link> Now, Does React update the DOM too, when update cycle run? </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/react/misc.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=misc>Misc<a class=headerlink href=#misc title="Permanent link">&para;</a></h1> <h2 id=formik-should-know-the-way-it-handle-forms-state>Formik - should know the way it handle form's state<a class=headerlink href=#formik-should-know-the-way-it-handle-forms-state title="Permanent link">&para;</a></h2> <p>It uses the same pattern that you are very well familiar with, which is pass the function as prop to children. For example, you have a parent comp and function called <code>hello</code> which update the parent comp state. Now you want that the children can also have an access to <code>hello</code> function and they can also trigger state change. To do this we simply pass the <code>hello</code> function to child comp as prop <code>&lt;Child onHello={hello} /&gt;</code>. Now child can run the <code>hello</code> using <code>props.hello()</code>.</p> <p>Formik uses the same pattern and let child comp to update form's state.</p> <ul> <li>It provided the inerface (a set of functions) such as <code>setFieldValue</code>, <code>setFieldTouched</code>, <code>setError</code>, etc.</li> <li>The interface is available to child comp where we create our form.</li> <li>With the help of functions we can control the form by simply calling these functions and the tedious work of handling the state change is done by Formik automatically. All you need to do is to call the function.</li> </ul> <h2 id=_1>&amp;&amp;<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>//</span> <span class=nv>Renders</span> <span class=nv>a</span> <span class=o>&lt;</span><span class=nv>Header</span> <span class=o>/&gt;</span> <span class=k>if</span> <span class=nv>showHeader</span> <span class=nv>is</span> <span class=nv>true</span>
<span class=o>&lt;</span><span class=nv>div</span><span class=o>&gt;</span>
  {<span class=nv>showHeader</span> <span class=o>&amp;&amp;</span> <span class=o>&lt;</span><span class=nv>Header</span> <span class=o>/&gt;</span>}
  <span class=o>&lt;</span><span class=nv>Content</span> <span class=o>/&gt;</span>
<span class=o>&lt;/</span><span class=nv>div</span><span class=o>&gt;</span>
</pre></div> </td></tr></table> <h2 id=keys>Keys<a class=headerlink href=#keys title="Permanent link">&para;</a></h2> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If key is updated or changed then React remount the component. This is one of the ways when you can use to remount the component instead update the component by update cycle.</p> </div> <p>Keys help React identify which items have changed, are added, or are removed. Keys should be given to the elements inside the array to give the elements a stable identity:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>const</span> <span class=nx>todoItems</span> <span class=o>=</span> <span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span> <span class=p>=&gt;</span>
  <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span>
    <span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span>
  <span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=p>);</span>
</pre></div> </td></tr></table> <h3 id=choosing-a-key>Choosing a key<a class=headerlink href=#choosing-a-key title="Permanent link">&para;</a></h3> <ul> <li>The element you are going to display may already have a unique ID, so the key can just come from your data. If that not the case, you can add a new ID property to your model if it does not present.</li> <li>As a last resort, you can pass an item’s index in the array as a key. <strong>This can work well if the items are never reordered, but reorders will be slow.</strong> Reorders can also cause issues with component state when indexes are used as keys.</li> </ul> <blockquote> <p>Do not generate keys with Math.random(). It creates unstable keys, and will cause many component instances and DOM nodes to be unnecessarily recreated.</p> </blockquote> <h2 id=if-a-parent-component-is-triggered-update-then-does-react-update-all-the-children>If a parent component is triggered update then does React update all the children<a class=headerlink href=#if-a-parent-component-is-triggered-update-then-does-react-update-all-the-children title="Permanent link">&para;</a></h2> <blockquote> <p>Yes, Update cycle move down from parent to children.</p> <p>Similarily, when parent mount then all its children also run mount cycle.</p> </blockquote> <p>If parent component runs a update cycle then all children also run the update cycle. Because it is possible that children are depended upon the <code>state</code> or <code>props</code> of parent component.</p> <p><strong>NOTE:</strong> Even if you are not using parent <code>state</code> or <code>prop</code> in any children component, then also children components run update cycle when state change. For example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>class</span> <span class=nx>Parent</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
      <span class=nx>refresh</span><span class=o>:</span> <span class=kc>false</span>
    <span class=p>};</span>
  <span class=p>}</span>

  <span class=nx>refresh</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span>
      <span class=nx>refresh</span><span class=o>:</span> <span class=kc>true</span>
    <span class=p>});</span>
  <span class=p>}</span>

  <span class=c1>// refresh state variable is not being used</span>
  <span class=c1>// in any children components.</span>
  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>Fragment</span><span class=o>&gt;</span>
        <span class=o>&lt;</span><span class=nx>Child1</span> <span class=o>/&gt;</span>
        <span class=o>&lt;</span><span class=nx>Child3</span><span class=o>&gt;</span>
          <span class=p>{</span><span class=cm>/* more nested children*/</span><span class=p>}</span>
        <span class=o>&lt;</span><span class=err>/Child3&gt;</span>
        <span class=o>&lt;</span><span class=nx>Child2</span> <span class=o>/&gt;</span>
      <span class=o>&lt;</span><span class=err>/Fragment&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>
</pre></div> </td></tr></table> <p>In example above <code>refresh</code> state property is not being used in any children components. See the <code>render</code> method. Now if <code>refresh()</code> method is triggered then it execute <code>setState</code>, updating the <code>refresh</code> property, which tells React to run update cycle. In this case parent component as well as all the childrens run update cycle.</p> <h3 id=now-does-react-update-the-dom-too-when-update-cycle-run>Now, Does React update the DOM too, when update cycle run?<a class=headerlink href=#now-does-react-update-the-dom-too-when-update-cycle-run title="Permanent link">&para;</a></h3> <p>React is smart enough not to update the actual DOM if nothing seem to be changed in child component, even when the update is triggered down by parent component update. Instead of creating all DOM nodes from scratch and putting them on the page, React will start the reconciliation (or “diffing”) algorithm to determine which parts of the node tree have to be updated and which can be left untouched.</p> <p>But still the update lifecycle methods do execute in child component, such as <code>getDerivedStateFromProps</code> and <code>componentDidUpdate</code>.</p> <p>Therefore, it is said to run logic in <code>getDerivedStateFromProps</code> and <code>componentDidUpdate</code> using <code>if</code> statement, where we must check if <code>prop</code> is changed then only run the logic. If condition is missing then logic will run even when nothing has chnaged in child component.</p> <div class="admonition question"> <p class=admonition-title>What is reconciliation?</p> <p>When a component’s props or state change, React decides whether an actual DOM update is necessary by comparing the newly returned element with the previously rendered one. When they are not equal, React will update the DOM. If they are equal then React does not update the DOM. This process is called reconciliation.</p> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>