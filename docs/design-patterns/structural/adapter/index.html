<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/design-patterns/structural/adapter/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Adapter - Notebook</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#adapter tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Adapter </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../../data-structure-and-algorithms/ title="Data structure and algorithms" class=md-nav__link> Data structure and algorithms </a> </li> <li class=md-nav__item> <a href=../../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../ title="Design patterns" class=md-nav__link> Design patterns </a> </li> <li class=md-nav__item> <a href=../../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../../javascript/ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../../expressjs/ title=Express.js class=md-nav__link> Express.js </a> </li> <li class=md-nav__item> <a href=../../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../../linters/ title=Linters class=md-nav__link> Linters </a> </li> <li class=md-nav__item> <a href=../../../graphql/ title=GraphQL class=md-nav__link> GraphQL </a> </li> <li class=md-nav__item> <a href=../../../redux-saga/ title="Redux saga" class=md-nav__link> Redux saga </a> </li> <li class=md-nav__item> <a href=../../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../../../typescript/ title=Typescript class=md-nav__link> Typescript </a> </li> <li class=md-nav__item> <a href=../../../web-security/ title="Web security" class=md-nav__link> Web security </a> </li> <li class=md-nav__item> <a href=../../../react-native/ title="React native" class=md-nav__link> React native </a> </li> <li class=md-nav__item> <a href=../../../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#problem class=md-nav__link> Problem </a> </li> <li class=md-nav__item> <a href=#solution class=md-nav__link> Solution </a> </li> <li class=md-nav__item> <a href=#applicability class=md-nav__link> Applicability </a> </li> <li class=md-nav__item> <a href=#code class=md-nav__link> Code </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/design-patterns/structural/adapter.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=adapter>Adapter<a class=headerlink href=#adapter title="Permanent link">&para;</a></h1> <p>It <strong>allows objects with incompatible interfaces to collaborate</strong>.</p> <p>Adapter lets classes work together that couldn't otherwise because of incompatible interfaces. The Adapter pattern translates one interface (an object's properties and methods) to another. Adapters allows programming components to work together that otherwise wouldn't because of mismatched interfaces. The Adapter pattern is also referred to as the Wrapper Pattern.</p> <h2 id=problem>Problem<a class=headerlink href=#problem title="Permanent link">&para;</a></h2> <p>Imagine that you’re creating a stock market monitoring app. The app downloads the stock data from multiple sources in XML format and then displays nice-looking charts and diagrams for the user.</p> <p>At some point, you decide to improve the app by integrating a smart 3rd-party analytics library. But there’s a catch: the analytics library only works with data in JSON format.</p> <p>You could change the library to work with XML. However, this might break some existing code that relies on the library. And worse, you might not have access to the library’s source code in the first place, making this approach impossible.</p> <h2 id=solution>Solution<a class=headerlink href=#solution title="Permanent link">&para;</a></h2> <p>You can create an adapter. This is a special object that converts the interface of one object so that another object can understand it.</p> <p>To solve the dilemma of incompatible formats, you can create XML-to-JSON adapters for every class of the analytics library that your code works with directly. Then you adjust your code to communicate with the library only via these adapters. When an adapter receives a call, it translates the incoming XML data into a JSON structure and passes the call to the appropriate methods of a wrapped analytics object.</p> <p><img alt=Example src=../../assets/adapter-example.png></p> <h2 id=applicability>Applicability<a class=headerlink href=#applicability title="Permanent link">&para;</a></h2> <ol> <li> <p>Use the Adapter class when you want to use some existing class, but its interface isn’t compatible with the rest of your code. The Adapter pattern lets you create a middle-layer class that serves as a translator between your code and a legacy class, a 3rd-party class or any other class with a weird interface.</p> </li> <li> <p>Adapters are commonly used is when new components need to be integrated and work together with existing components in the application.</p> </li> <li> <p>Another scenario is refactoring in which parts of the program are rewritten with an improved interface, but the old code still expects the original interface.</p> </li> </ol> <h2 id=code>Code<a class=headerlink href=#code title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=cm>/**</span>
<span class=cm> * 1. Old interface to calculate shipping cost. The client knows</span>
<span class=cm> *    only the request() method and parameters supplied with it.</span>
<span class=cm> *    And this interface is not what you want to change but you</span>
<span class=cm> *    have to use advance shipping class.</span>
<span class=cm> */</span>

<span class=kd>function</span> <span class=nx>Shipping</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>request</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>zipStart</span><span class=p>,</span> <span class=nx>zipEnd</span><span class=p>,</span> <span class=nx>weight</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// .. a few calculations</span>
    <span class=k>return</span> <span class=s2>&quot;$49.75&quot;</span><span class=p>;</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=cm>/**</span>
<span class=cm> * 2. This class is a advance class that you have to use in</span>
<span class=cm> *    rather than Shipping class without changing the old way of</span>
<span class=cm> *    how client access shipping class to get shipping cost.</span>
<span class=cm> *</span>
<span class=cm> * ADAPTEE CLASS - WHICH YOU WANT TO ADAPT TO OLD INTERFACE.</span>
<span class=cm> */</span>

<span class=kd>function</span> <span class=nx>AdvancedShipping</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>login</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>credentials</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/* ... */</span> <span class=p>};</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>setStart</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>start</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/* ... */</span> <span class=p>};</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>setDestination</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>destination</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/* ... */</span> <span class=p>};</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>calculate</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>weight</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=s2>&quot;$39.50&quot;</span><span class=p>;</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=cm>/**</span>
<span class=cm> * 3. In order to use AdvancedShipping class without changing</span>
<span class=cm> *    the client you need to write the Adpater class, which in</span>
<span class=cm> *    turns provide same old interface to client but have different</span>
<span class=cm> *     way of calculating shipping cost.</span>
<span class=cm> */</span>

<span class=kd>function</span> <span class=nx>ShippingAdapter</span><span class=p>(</span><span class=nx>credentials</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>shipping</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AdvancedShipping</span><span class=p>();</span>

  <span class=nx>shipping</span><span class=p>.</span><span class=nx>login</span><span class=p>(</span><span class=nx>credentials</span><span class=p>);</span>

  <span class=k>return</span> <span class=p>{</span>
    <span class=c1>// adapt old interface.</span>
    <span class=nx>request</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>zipStart</span><span class=p>,</span> <span class=nx>zipEnd</span><span class=p>,</span> <span class=nx>weight</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>shipping</span><span class=p>.</span><span class=nx>setStart</span><span class=p>(</span><span class=nx>zipStart</span><span class=p>);</span>
      <span class=nx>shipping</span><span class=p>.</span><span class=nx>setDestination</span><span class=p>(</span><span class=nx>zipEnd</span><span class=p>);</span>
      <span class=k>return</span> <span class=nx>shipping</span><span class=p>.</span><span class=nx>calculate</span><span class=p>(</span><span class=nx>weight</span><span class=p>);</span>
    <span class=p>}</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=cm>/**</span>
<span class=cm> * 4. Old way - client</span>
<span class=cm> */</span>

<span class=kd>function</span> <span class=nx>oldWay</span><span class=p>()</span> <span class=p>{</span>

  <span class=kd>var</span> <span class=nx>shipping</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Shipping</span><span class=p>();</span>
  <span class=kd>var</span> <span class=nx>cost</span> <span class=o>=</span> <span class=nx>shipping</span><span class=p>.</span><span class=nx>request</span><span class=p>(</span><span class=s2>&quot;78701&quot;</span><span class=p>,</span> <span class=s2>&quot;10010&quot;</span><span class=p>,</span> <span class=s2>&quot;2 lbs&quot;</span><span class=p>);</span> <span class=c1>// same interface</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Old cost: &quot;</span> <span class=o>+</span> <span class=nx>cost</span><span class=p>);</span>
<span class=p>}</span>

<span class=nx>oldWay</span><span class=p>();</span>

<span class=cm>/**</span>
<span class=cm> * 5. New way - client</span>
<span class=cm> */</span>

<span class=kd>function</span> <span class=nx>newWay</span><span class=p>()</span> <span class=p>{</span>

  <span class=kd>var</span> <span class=nx>credentials</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>token</span><span class=o>:</span> <span class=s2>&quot;30a8-6ee1&quot;</span>
  <span class=p>};</span>
  <span class=kd>var</span> <span class=nx>adapter</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ShippingAdapter</span><span class=p>(</span><span class=nx>credentials</span><span class=p>);</span>
  <span class=nx>cost</span> <span class=o>=</span> <span class=nx>adapter</span><span class=p>.</span><span class=nx>request</span><span class=p>(</span><span class=s2>&quot;78701&quot;</span><span class=p>,</span> <span class=s2>&quot;10010&quot;</span><span class=p>,</span> <span class=s2>&quot;2 lbs&quot;</span><span class=p>);</span> <span class=c1>// same interface</span>

  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;New cost: &quot;</span> <span class=o>+</span> <span class=nx>cost</span><span class=p>);</span>

<span class=p>}</span>

<span class=nx>newWay</span><span class=p>();</span>
</pre></div> </td></tr></table> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>