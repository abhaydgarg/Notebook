<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/firebase/realtime-database/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Realtime database - Notebook</title><link rel=stylesheet href=../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#realtime-database tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Realtime database </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../data-structure-and-algorithms/ title="Data Structure and Algorithms" class=md-nav__link> Data Structure and Algorithms </a> </li> <li class=md-nav__item> <a href=../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../design-patterns/ title="Design Patterns" class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../rest-api/ title="REST API" class=md-nav__link> REST API </a> </li> <li class=md-nav__item> <a href=../../eslint/ title=ESLint class=md-nav__link> ESLint </a> </li> <li class=md-nav__item> <a href=../../javascript/ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../react-native/ title="React Native" class=md-nav__link> React Native </a> </li> <li class=md-nav__item> <a href=../../redux-saga/ title="Redux Saga" class=md-nav__link> Redux Saga </a> </li> <li class=md-nav__item> <a href=../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../ title=Firebase class=md-nav__link> Firebase </a> </li> <li class=md-nav__item> <a href=../../web-security/ title="Web Security" class=md-nav__link> Web Security </a> </li> <li class=md-nav__item> <a href=../../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#understand-db class=md-nav__link> Understand DB </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#every-piece-of-data-should-be-object class=md-nav__link> Every piece of data should be object </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-data-structure class=md-nav__link> Best practices for data structure </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#when-to-use-nested-embedded-object class=md-nav__link> When to use nested (embedded) object </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cardinality-11-static-or-fixed-size class=md-nav__link> Cardinality 1:1 + Static or fixed size </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#when-to-flatten-the-data-denormalization class=md-nav__link> When to flatten the data - Denormalization </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cardinality-1m-or-mm class=md-nav__link> Cardinality 1:M or M:M </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#other-ways-to-denormalize class=md-nav__link> Other ways to denormalize </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#store-relation-in-a-separate-object class=md-nav__link> Store relation in a separate object </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/firebase/realtime-database.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=realtime-database>Realtime database<a class=headerlink href=#realtime-database title="Permanent link">&para;</a></h1> <div class="admonition info"> <p class=admonition-title>Motto</p> <p>Write should be hard and read should be easy.</p> </div> <h2 id=understand-db>Understand DB<a class=headerlink href=#understand-db title="Permanent link">&para;</a></h2> <h3 id=every-piece-of-data-should-be-object>Every piece of data should be object<a class=headerlink href=#every-piece-of-data-should-be-object title="Permanent link">&para;</a></h3> <p><strong>Question:</strong> Why?</p> <p><strong>[1]</strong> The <code>key</code> in DB is reccomnded to be a <code>primary key</code>. In a example below, <code>john</code> and <code>jane</code> keys in <code>users</code> object are primary keys. If we compare it with relational DB then <code>users</code> is a table and it has two records and these records have a primary key <code>john</code> and <code>jane</code>.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=s2>&quot;users&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;john&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;John Doe&quot;</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;jane&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Jane Doe&quot;</span><span class=p>,</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p><strong>[2]</strong> The data or record is accessed using <strong>object path</strong>. For example, <code>/users/john</code>. This returns the whole record of user <code>john</code>. The reason using object path that the data is accessed extremly fast as compare to looking up record in an array.</p> <p><strong>[3]</strong> Array are not supported. We can create an array and push items in it but behind the scene firebase convert array into object. For example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// we send this</span>
<span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>]</span>
<span class=c1>// Firebase stores this</span>
<span class=p>{</span><span class=mi>0</span><span class=o>:</span> <span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=o>:</span> <span class=s1>&#39;world&#39;</span><span class=p>}</span>
</pre></div> </td></tr></table> <p><strong>[4]</strong> Firebase provides a very limited operations for read and write. It does not support joins and a very limited operation to query DB. Therefore, we have to structure the DB in key-value in way that we can access record efficiently.</p> <h2 id=best-practices-for-data-structure>Best practices for data structure<a class=headerlink href=#best-practices-for-data-structure title="Permanent link">&para;</a></h2> <h3 id=when-to-use-nested-embedded-object>When to use nested (embedded) object<a class=headerlink href=#when-to-use-nested-embedded-object title="Permanent link">&para;</a></h3> <blockquote> <p>Note: Firebase recommends to avoid using nested data but in a few cases it can be used.</p> </blockquote> <h4 id=cardinality-11-static-or-fixed-size>Cardinality 1:1 + Static or fixed size<a class=headerlink href=#cardinality-11-static-or-fixed-size title="Permanent link">&para;</a></h4> <p>Both conditons must be true.</p> <p><strong>[1] Cardinality 1:1</strong> - When relation is one-directional. The data is not going to be redundant. For example, husband and wife is 1:1 relation so we can choose to embed wife inside husband record.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=s2>&quot;users&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;john&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;John Doe&quot;</span><span class=p>,</span>
    <span class=nt>&quot;age&quot;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
    <span class=nt>&quot;wife&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Jane Doe&quot;</span><span class=p>,</span>
      <span class=nt>&quot;age&quot;</span><span class=p>:</span> <span class=mi>28</span><span class=p>,</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p><strong>[2] Static or fixed size</strong> - This means that the size of nested or embedded objects should be fixed or not in a large numbers. So what should be the size of nested objects?</p> <p>This depends upon the amount of data which is going to be returned. For example, lets say we have <code>posts</code> object which has <code>comments</code> object embedded into it. The relation is 1:1 but what if the size of <code>comments</code> object increased to 1k, 5k or 10k over time. When you access <code>posts/one</code> then the comments will also be returned with it. This can be problematic when the size of <code>comments</code> object is large. Lets say we have constraint that user cannot submit more than 10 comments. In this case we can consider embedding <code>comments</code> object into <code>post</code> because size of <code>comments</code> object is small and fixed.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=s2>&quot;posts&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;one&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;abc&quot;</span><span class=p>,</span>
    <span class=nt>&quot;commnets&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;c1&quot;</span><span class=p>:</span> <span class=s2>&quot;first comment&quot;</span><span class=p>,</span>
      <span class=nt>&quot;c2&quot;</span><span class=p>:</span> <span class=s2>&quot;second comment&quot;</span><span class=p>,</span>
      <span class=nt>&quot;c3&quot;</span><span class=p>:</span> <span class=s2>&quot;third comment&quot;</span><span class=p>,</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=when-to-flatten-the-data-denormalization>When to flatten the data - Denormalization<a class=headerlink href=#when-to-flatten-the-data-denormalization title="Permanent link">&para;</a></h3> <blockquote> <p>Denormalization - It is just a fancy word of duplication.</p> </blockquote> <h4 id=cardinality-1m-or-mm>Cardinality 1:M or M:M<a class=headerlink href=#cardinality-1m-or-mm title="Permanent link">&para;</a></h4> <p>When relationship is more dynamic and the nested object can grow and mutate heavily.</p> <blockquote> <p>IDEA: Split data into multiple object paths and use primary key of one object in another object as a foreign key.</p> </blockquote> <p>Lets take an above example of <code>posts</code> object and separate the structure into multiple paths. Lets check the example below, the primary keys of <code>posts</code> such as <code>one</code>, <code>two</code> become a first level key in a <code>comments</code> object which you can think as foreign keys. So you can access single post using path <code>posts/one</code> and its comments using <code>comments/one</code>. Simple isn't.</p> <p><strong>Benefit:</strong> You can now get post's data of single post without having a long list of comments. Because earlier, in a old structure when you get a single post by path <code>posts/one</code> then you will also recieve all comments with it. So now if you just need metadata of single post then use <code>posts/one</code> and when want post's comment just use <code>comments/one</code>.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=s2>&quot;posts&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;one&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;abc&quot;</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;two&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;xyz&quot;</span><span class=p>,</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=s2>&quot;commnets&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;one&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;c1&quot;</span><span class=p>:</span> <span class=s2>&quot;first comment&quot;</span><span class=p>,</span>
    <span class=nt>&quot;c2&quot;</span><span class=p>:</span> <span class=s2>&quot;second comment&quot;</span><span class=p>,</span>
    <span class=nt>&quot;c3&quot;</span><span class=p>:</span> <span class=s2>&quot;third comment&quot;</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;two&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;c1&quot;</span><span class=p>:</span> <span class=s2>&quot;first comment&quot;</span><span class=p>,</span>
    <span class=nt>&quot;c2&quot;</span><span class=p>:</span> <span class=s2>&quot;second comment&quot;</span><span class=p>,</span>
    <span class=nt>&quot;c3&quot;</span><span class=p>:</span> <span class=s2>&quot;third comment&quot;</span><span class=p>,</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h5 id=other-ways-to-denormalize>Other ways to denormalize<a class=headerlink href=#other-ways-to-denormalize title="Permanent link">&para;</a></h5> <h6 id=store-relation-in-a-separate-object>Store relation in a separate object<a class=headerlink href=#store-relation-in-a-separate-object title="Permanent link">&para;</a></h6> <p>To access a list of users who are going to attend event <code>e1</code>. You use a path <code>attendees/e1</code>.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=s2>&quot;users&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;john&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;John Doe&quot;</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;jane&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Jane Doe&quot;</span><span class=p>,</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=s2>&quot;events&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;e1&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Event One&quot;</span><span class=p>,</span>
    <span class=nt>&quot;location&quot;</span><span class=p>:</span> <span class=s2>&quot;some address&quot;</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;e2&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Event Two&quot;</span><span class=p>,</span>
    <span class=nt>&quot;location&quot;</span><span class=p>:</span> <span class=s2>&quot;some address&quot;</span><span class=p>,</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=err>//</span> <span class=err>users</span> <span class=err>and</span> <span class=err>events</span> <span class=err>relation</span>
<span class=err>//</span> <span class=err>is</span> <span class=err>stored</span> <span class=err>here.</span>
<span class=s2>&quot;attendees&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;e1&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;john&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
    <span class=nt>&quot;jane&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;e2&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;jane&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>You can also embed the user object instead of <code>true</code> value.</p> <p><strong>Drawback - Maintain consistency:</strong> Embedding a object has drawback and which is, if you update the name of <code>jane</code> in <code>user</code> object then you have to update the same in all events in which <code>jane</code> is registred. Therfore, in <code>attendees</code> object you have to go through all events and update the <code>jane</code> object to match the changes.</p> <blockquote> <p>This is uselful when embedded object is not going to mutate. Therefore, you do not need to execute another query to fetch the content. unlike in example above, after you get the users of event <code>e1</code> whose value is <code>true</code>. You have to run two read statements using <code>users/$uid</code> to get the name of attendees.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=s2>&quot;attendees&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;e1&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;john&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;John Doe&quot;</span><span class=p>,</span>
    <span class=p>},</span>
    <span class=nt>&quot;jane&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Jane Doe&quot;</span><span class=p>,</span>
    <span class=p>},</span>
  <span class=p>},</span>
  <span class=nt>&quot;e2&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;jane&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Jane Doe&quot;</span><span class=p>,</span>
    <span class=p>},</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>