<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/javascript/js6/object/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Expanded object functionality - Notebook</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#expanded-object-functionality tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Expanded object functionality </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../../data-structure-and-algorithms/ title="Data Structure and Algorithms" class=md-nav__link> Data Structure and Algorithms </a> </li> <li class=md-nav__item> <a href=../../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../../design-patterns/ title="Design Patterns" class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../../rest-api/ title="REST API" class=md-nav__link> REST API </a> </li> <li class=md-nav__item> <a href=../../../eslint/ title=ESLint class=md-nav__link> ESLint </a> </li> <li class=md-nav__item> <a href=../../ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../../react-native/ title="React Native" class=md-nav__link> React Native </a> </li> <li class=md-nav__item> <a href=../../../redux-saga/ title="Redux Saga" class=md-nav__link> Redux Saga </a> </li> <li class=md-nav__item> <a href=../../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../../firebase/ title=Firebase class=md-nav__link> Firebase </a> </li> <li class=md-nav__item> <a href=../../../web-security/ title="Web Security" class=md-nav__link> Web Security </a> </li> <li class=md-nav__item> <a href=../../../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#property-initializer-shorthand class=md-nav__link> Property initializer shorthand </a> </li> <li class=md-nav__item> <a href=#concise-method class=md-nav__link> Concise method </a> </li> <li class=md-nav__item> <a href=#computed-property-names-dynamic-keys class=md-nav__link> Computed property names - Dynamic keys </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dynamic-keys class=md-nav__link> Dynamic Keys </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#duplicate-object-literal-properties class=md-nav__link> Duplicate object literal properties </a> </li> <li class=md-nav__item> <a href=#changing-an-objects-prototype class=md-nav__link> Changing an object's prototype </a> </li> <li class=md-nav__item> <a href=#prototype-access-with-super class=md-nav__link> Prototype access with Super </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#super-works-with-concise-method-only class=md-nav__link> super works with concise method only </a> </li> <li class=md-nav__item> <a href=#super-and-multilevel-inheritance class=md-nav__link> super and multilevel inheritance </a> </li> <li class=md-nav__item> <a href=#homeobject class=md-nav__link> [[HomeObject]] </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/javascript/js6/object.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=expanded-object-functionality>Expanded object functionality<a class=headerlink href=#expanded-object-functionality title="Permanent link">&para;</a></h1> <h2 id=property-initializer-shorthand>Property initializer shorthand<a class=headerlink href=#property-initializer-shorthand title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ECMAScript 5</span>
<span class=kd>function</span> <span class=nx>createPerson</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>{</span>
        <span class=nx>name</span><span class=o>:</span> <span class=nx>name</span><span class=p>,</span>
        <span class=nx>age</span><span class=o>:</span> <span class=nx>age</span>
    <span class=p>};</span>
<span class=p>}</span>

<span class=c1>// ECMAScript 6 - When an object property name is the same</span>
<span class=c1>// as the local variable name, you can simply include the</span>
<span class=c1>// name without a colon and value.</span>

<span class=kd>function</span> <span class=nx>createPerson</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>{</span>
        <span class=nx>name</span><span class=p>,</span>
        <span class=nx>age</span>
    <span class=p>};</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h2 id=concise-method>Concise method<a class=headerlink href=#concise-method title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ECMAScript 5</span>
<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>,</span>
    <span class=nx>sayName</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// ECMAScript 6 - the syntax is made more concise by eliminating</span>
<span class=c1>// the colon and the function keyword.</span>

<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>,</span>
    <span class=nx>sayName</span><span class=p>()</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</pre></div> </td></tr></table> <h2 id=computed-property-names-dynamic-keys>Computed property names - Dynamic keys<a class=headerlink href=#computed-property-names-dynamic-keys title="Permanent link">&para;</a></h2> <h3 id=dynamic-keys>Dynamic Keys<a class=headerlink href=#dynamic-keys title="Permanent link">&para;</a></h3> <p>Where name of the key is not known ahead of time and will be computed and stores in some variable. The value stored in that variable will become the name of object's key.</p> <p>The square brackets allow you to specify property names using variables and string literals that may contain characters that would cause a syntax error if used in an identifier. This pattern works for property names that are known ahead of time and can be represented with a string literal. If, however, the property name <code>"first name"</code> were contained in a variable or had to be calculated, then there would be no way to define that property using an object literal in ECMAScript 5.</p> <p>In ECMAScript 6, computed property names are part of the object literal syntax, and they use the same square bracket notation that has been used to reference computed property names in object instances. For example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>var</span> <span class=nx>lastName</span> <span class=o>=</span> <span class=s2>&quot;last name&quot;</span><span class=p>;</span>
<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;first name&quot;</span><span class=o>:</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>,</span>
    <span class=p>[</span><span class=nx>lastName</span><span class=p>]</span><span class=o>:</span> <span class=s2>&quot;Zakas&quot;</span>
<span class=p>};</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>[</span><span class=s2>&quot;first name&quot;</span><span class=p>]);</span>      <span class=c1>// &quot;Nicholas&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>[</span><span class=nx>lastName</span><span class=p>]);</span>          <span class=c1>// &quot;Zakas&quot;</span>

<span class=cm>/*** OR ***/</span>

<span class=kd>var</span> <span class=nx>suffix</span> <span class=o>=</span> <span class=s2>&quot; name&quot;</span><span class=p>;</span>
<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=p>[</span><span class=s2>&quot;first&quot;</span> <span class=o>+</span> <span class=nx>suffix</span><span class=p>]</span><span class=o>:</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>,</span>
    <span class=p>[</span><span class=s2>&quot;last&quot;</span> <span class=o>+</span> <span class=nx>suffix</span><span class=p>]</span><span class=o>:</span> <span class=s2>&quot;Zakas&quot;</span>
<span class=p>};</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>[</span><span class=s2>&quot;first name&quot;</span><span class=p>]);</span>      <span class=c1>// &quot;Nicholas&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>[</span><span class=s2>&quot;last name&quot;</span><span class=p>]);</span>       <span class=c1>// &quot;Zakas&quot;</span>
</pre></div> </td></tr></table> <h2 id=duplicate-object-literal-properties>Duplicate object literal properties<a class=headerlink href=#duplicate-object-literal-properties title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ECMAScript 5</span>
<span class=s2>&quot;use strict&quot;</span><span class=p>;</span>

<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>,</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Greg&quot;</span>        <span class=c1>// syntax error in ES5 strict mode</span>
<span class=p>};</span>

<span class=c1>// ECMAScript 6</span>
<span class=s2>&quot;use strict&quot;</span><span class=p>;</span>

<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>,</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Greg&quot;</span>        <span class=c1>// no error in ES6 strict mode</span>
<span class=p>};</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>       <span class=c1>// &quot;Greg&quot;</span>
</pre></div> </td></tr></table> <h2 id=changing-an-objects-prototype>Changing an object's prototype<a class=headerlink href=#changing-an-objects-prototype title="Permanent link">&para;</a></h2> <p><code>Object.setPrototypeOf()</code> method, which allows you to change the prototype of any given object.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=kd>let</span> <span class=nx>dog</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Woof&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// prototype is person</span>
<span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>person</span><span class=p>);</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                      <span class=c1>// &quot;Hello&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>)</span> <span class=o>===</span> <span class=nx>person</span><span class=p>);</span>  <span class=c1>// true</span>

<span class=c1>// set prototype to dog</span>
<span class=nb>Object</span><span class=p>.</span><span class=nx>setPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>,</span> <span class=nx>dog</span><span class=p>);</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                      <span class=c1>// &quot;Woof&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>)</span> <span class=o>===</span> <span class=nx>dog</span><span class=p>);</span>     <span class=c1>// true</span>
</pre></div> </td></tr></table> <p>The actual value of an object's prototype is stored in an internal-only property called <code>[[Prototype]]</code>. The <code>Object.getPrototypeOf()</code>method returns the value stored in <code>[[Prototype]]</code> and <code>Object.setPrototypeOf()</code> changes the value stored in <code>[[Prototype]]</code>.</p> <h2 id=prototype-access-with-super>Prototype access with <code>Super</code><a class=headerlink href=#prototype-access-with-super title="Permanent link">&para;</a></h2> <p>Another improvement is the introduction of <code>super</code> references, which make accessing functionality on an object's prototype easier. For example, to override a method on an object instance such that it also calls the prototype method of the same name, you'd do the following:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=p>{</span>
    <span class=c1>// override method - method with the same name calling prototype method of same name</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=k>this</span><span class=p>).</span><span class=nx>getGreeting</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=k>this</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&quot;, hi!&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// set prototype to person</span>
<span class=nb>Object</span><span class=p>.</span><span class=nx>setPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>,</span> <span class=nx>person</span><span class=p>);</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                      <span class=c1>// &quot;Hello&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                      <span class=c1>// &quot;Hello, hi!&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>)</span> <span class=o>===</span> <span class=nx>person</span><span class=p>);</span>  <span class=c1>// true</span>

<span class=c1>// In this example, getGreeting() on friend calls the prototype method of the same name.</span>
<span class=c1>// The Object.getPrototypeOf() method ensures the correct prototype is called,</span>
<span class=c1>// and then an additional</span>
<span class=c1>// string is appended to the output. The additional .call(this) ensures that</span>
<span class=c1>// the this value inside the prototype method is set correctly.</span>
</pre></div> </td></tr></table> <p>The use <code>Object.getPrototypeOf()</code> and <code>.call(this)</code> to call a method on the prototype is simplified by keyword <code>super</code>. Above code can be rewrite as:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=p>{</span>
    <span class=c1>// override method - method with the same name calling prototype method of same name</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
      <span class=c1>// return Object.getPrototypeOf(this).getGreeting.call(this);</span>
        <span class=k>return</span> <span class=kr>super</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>()</span> <span class=o>+</span> <span class=s2>&quot;, hi!&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// set prototype to person</span>
<span class=nb>Object</span><span class=p>.</span><span class=nx>setPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>,</span> <span class=nx>person</span><span class=p>);</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                      <span class=c1>// &quot;Hello&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                      <span class=c1>// &quot;Hello, hi!&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>)</span> <span class=o>===</span> <span class=nx>person</span><span class=p>);</span>  <span class=c1>// true</span>
</pre></div> </td></tr></table> <h3 id=super-works-with-concise-method-only><code>super</code> works with concise method only<a class=headerlink href=#super-works-with-concise-method-only title="Permanent link">&para;</a></h3> <p>Attempting to use <code>super</code> outside of concise methods results in a syntax error, as in this example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=c1>// not a concise method</span>
        <span class=c1>// syntax error</span>
        <span class=k>return</span> <span class=kr>super</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>()</span> <span class=o>+</span> <span class=s2>&quot;, hi!&quot;</span><span class=p>;</span>
        <span class=c1>// super is undefined because scope changed inside named function and super does</span>
        <span class=c1>// not exist anywhere in context.</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// This example uses a named property with a function, and the call to</span>
<span class=c1>// super.getGreeting() results in a syntax error because super is invalid</span>
<span class=c1>// or undefined in this context.</span>
</pre></div> </td></tr></table> <h3 id=super-and-multilevel-inheritance><code>super</code> and multilevel inheritance<a class=headerlink href=#super-and-multilevel-inheritance title="Permanent link">&para;</a></h3> <p>The <code>super</code> reference is really powerful when you have multiple levels of inheritance, because in that case, <code>Object.getPrototypeOf()</code> no longer works in all circumstances</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// prototype is person</span>
<span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>getPrototypeOf</span><span class=p>(</span><span class=k>this</span><span class=p>).</span><span class=nx>getGreeting</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=k>this</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&quot;, hi!&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
<span class=nb>Object</span><span class=p>.</span><span class=nx>setPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>,</span> <span class=nx>person</span><span class=p>);</span>


<span class=c1>// prototype is friend</span>
<span class=kd>let</span> <span class=nx>relative</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>friend</span><span class=p>);</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                  <span class=c1>// &quot;Hello&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                  <span class=c1>// &quot;Hello, hi!&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>relative</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                <span class=c1>// error!</span>
</pre></div> </td></tr></table> <p>The call to <code>Object.getPrototypeOf()</code> results in an error when <code>relative.getGreeting()</code> is called. That's because <code>this</code> is <code>relative</code>, and the prototype of <code>relative</code> is the <code>friend</code> object. When <code>friend.getGreeting().call()</code> is called with <code>relative</code> as <code>this</code>, the process starts over again and continues to call recursively until a stack overflow error occurs.</p> <p>That problem is difficult to solve in ECMAScript 5, but with ECMAScript 6 and <code>super</code>, it's easy:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// prototype is person</span>
<span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kr>super</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>()</span> <span class=o>+</span> <span class=s2>&quot;, hi!&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
<span class=nb>Object</span><span class=p>.</span><span class=nx>setPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>,</span> <span class=nx>person</span><span class=p>);</span>


<span class=c1>// prototype is friend</span>
<span class=kd>let</span> <span class=nx>relative</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>friend</span><span class=p>);</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                  <span class=c1>// &quot;Hello&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                  <span class=c1>// &quot;Hello, hi!&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>relative</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>                <span class=c1>// &quot;Hello, hi!&quot;</span>
</pre></div> </td></tr></table> <p>Because <code>super</code> references are not dynamic, they always refer to the correct object. In this case, <code>super.getGreeting()</code> always refers to <code>person.getGreeting()</code>, regardless of how many other objects inherit the method.</p> <h3 id=homeobject>[[HomeObject]]<a class=headerlink href=#homeobject title="Permanent link">&para;</a></h3> <p>ECMAScript 6 formally defines a method as a function that has an internal <code>[[HomeObject]]</code> property containing the object to which the method belongs.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>

    <span class=c1>// method</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// not a method</span>
<span class=kd>function</span> <span class=nx>shareGreeting</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=s2>&quot;Hi!&quot;</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>This example defines <code>person</code> with a single method called <code>getGreeting()</code>. The <code>[[HomeObject]]</code> for <code>getGreeting()</code> is <code>person</code> by virtue of assigning the function directly to an object. The <code>shareGreeting()</code> function, on the other hand, has no <code>[[HomeObject]]</code>specified because it wasn't assigned to an object when it was created. In most cases, this difference isn't important, but it becomes very important when using <code>super</code> references.</p> <p>Any reference to <code>super</code> uses the <code>[[HomeObject]]</code> to determine what to do. The first step is to call <code>Object.getPrototypeOf()</code> on the <code>[[HomeObject]]</code> to retrieve a reference to the prototype. Then, the prototype is searched for a function with the same name. Last, the <code>this</code> binding is set and the method is called. Here's an example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// prototype is person</span>
<span class=kd>let</span> <span class=nx>friend</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>getGreeting</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kr>super</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>()</span> <span class=o>+</span> <span class=s2>&quot;, hi!&quot;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
<span class=nb>Object</span><span class=p>.</span><span class=nx>setPrototypeOf</span><span class=p>(</span><span class=nx>friend</span><span class=p>,</span> <span class=nx>person</span><span class=p>);</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>friend</span><span class=p>.</span><span class=nx>getGreeting</span><span class=p>());</span>  <span class=c1>// &quot;Hello, hi!&quot;</span>

<span class=c1>// The [[HomeObject]] of friend.getGreeting() is friend, and</span>
<span class=c1>// the prototype of friend is person, so super.getGreeting()</span>
<span class=c1>// is equivalent to person.getGreeting.call(this)`.</span>
</pre></div> </td></tr></table> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>