<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/javascript/js6/function/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Functions - Notebook</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#functions tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Functions </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../../data-structure-and-algorithms/ title="Data structure and algorithms" class=md-nav__link> Data structure and algorithms </a> </li> <li class=md-nav__item> <a href=../../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../../design-patterns/ title="Design patterns" class=md-nav__link> Design patterns </a> </li> <li class=md-nav__item> <a href=../../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../../expressjs/ title=Express.js class=md-nav__link> Express.js </a> </li> <li class=md-nav__item> <a href=../../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../../linters/ title=Linters class=md-nav__link> Linters </a> </li> <li class=md-nav__item> <a href=../../../graphql/ title=GraphQL class=md-nav__link> GraphQL </a> </li> <li class=md-nav__item> <a href=../../../redux-saga/ title="Redux saga" class=md-nav__link> Redux saga </a> </li> <li class=md-nav__item> <a href=../../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../../../typescript/ title=Typescript class=md-nav__link> Typescript </a> </li> <li class=md-nav__item> <a href=../../../web-security/ title="Web security" class=md-nav__link> Web security </a> </li> <li class=md-nav__item> <a href=../../../react-native/ title="React native" class=md-nav__link> React native </a> </li> <li class=md-nav__item> <a href=../../../rust/ title=Rust class=md-nav__link> Rust </a> </li> <li class=md-nav__item> <a href=../../../python/ title=Python class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../../../php/ title=PHP class=md-nav__link> PHP </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#default-parameter class=md-nav__link> Default parameter </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-default-parameter-affect-the-argument-object class=md-nav__link> How default parameter affect the argument object </a> </li> <li class=md-nav__item> <a href=#default-parameter-expressions class=md-nav__link> Default parameter expressions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#unnamed-parameters class=md-nav__link> Unnamed parameters </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rest-parameter-restrictions class=md-nav__link> Rest parameter restrictions </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-rest-parameters-affect-the-argument-object class=md-nav__link> How rest parameters affect the argument object </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dual-purpose-of-functions class=md-nav__link> Dual purpose of functions </a> </li> <li class=md-nav__item> <a href=#arrow-functions class=md-nav__link> Arrow functions </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#no-this-binding class=md-nav__link> No this binding </a> </li> <li class=md-nav__item> <a href=#when-not-to-use-arrow-function class=md-nav__link> When not to use arrow function </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#object-prototype class=md-nav__link> Object prototype </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#callback-with-dynamic-context class=md-nav__link> Callback with dynamic context </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/javascript/js6/function.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=functions>Functions<a class=headerlink href=#functions title="Permanent link">&para;</a></h1> <h2 id=default-parameter>Default parameter<a class=headerlink href=#default-parameter title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ###### ECMAScript 5 ######</span>
<span class=kd>function</span> <span class=nx>makeRequest</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=nx>timeout</span><span class=p>,</span> <span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>

    <span class=nx>timeout</span> <span class=o>=</span> <span class=nx>timeout</span> <span class=o>||</span> <span class=mi>2000</span><span class=p>;</span>
    <span class=nx>callback</span> <span class=o>=</span> <span class=nx>callback</span> <span class=o>||</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{};</span>

    <span class=c1>// the rest of the function</span>

<span class=p>}</span>

<span class=c1>// ###### ECMAScript 6 ######</span>

<span class=kd>function</span> <span class=nx>makeRequest</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=nx>timeout</span> <span class=o>=</span> <span class=mi>2000</span><span class=p>,</span> <span class=nx>callback</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{})</span> <span class=p>{</span>

    <span class=c1>// the rest of the function</span>

<span class=p>}</span>

<span class=c1>// if you pass undefined or null for default parameter then also you get default</span>
<span class=c1>// value not undefined or null.</span>

<span class=c1>// uses default timeout = 2000, even undefined is passed</span>
<span class=nx>makeRequest</span><span class=p>(</span><span class=s2>&quot;/foo&quot;</span><span class=p>,</span> <span class=kc>undefined</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>body</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>doSomething</span><span class=p>(</span><span class=nx>body</span><span class=p>);</span>
<span class=p>});</span>

<span class=c1>// uses default timeout</span>
<span class=nx>makeRequest</span><span class=p>(</span><span class=s2>&quot;/foo&quot;</span><span class=p>);</span>

<span class=c1>// doesn&#39;t use default timeout  = 2000, even null is passed</span>
<span class=nx>makeRequest</span><span class=p>(</span><span class=s2>&quot;/foo&quot;</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>body</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>doSomething</span><span class=p>(</span><span class=nx>body</span><span class=p>);</span>
<span class=p>});</span>
</pre></div> </td></tr></table> <h3 id=how-default-parameter-affect-the-argument-object>How default parameter affect the argument object<a class=headerlink href=#how-default-parameter-affect-the-argument-object title="Permanent link">&para;</a></h3> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ###### ECMAScript 5 ######</span>
<span class=c1>// 1. nonstrict mode, the arguments object reflects changes</span>
<span class=c1>// in the named parameters of a function</span>

<span class=kd>function</span> <span class=nx>mixArgs</span><span class=p>(</span><span class=nx>first</span><span class=p>,</span> <span class=nx>second</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
    <span class=nx>first</span> <span class=o>=</span> <span class=s2>&quot;c&quot;</span><span class=p>;</span>
    <span class=nx>second</span> <span class=o>=</span> <span class=s2>&quot;d&quot;</span><span class=p>;</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
<span class=p>}</span>

<span class=nx>mixArgs</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=s2>&quot;b&quot;</span><span class=p>);</span>

<span class=c1>//This outputs:</span>

<span class=kc>true</span>
<span class=kc>true</span>
<span class=kc>true</span>
<span class=kc>true</span>

<span class=c1>// 2. strict mode, the arguments object does not reflect</span>
<span class=c1>// changes in the named parameters of a function</span>
<span class=kd>function</span> <span class=nx>mixArgs</span><span class=p>(</span><span class=nx>first</span><span class=p>,</span> <span class=nx>second</span><span class=p>)</span> <span class=p>{</span>
    <span class=s2>&quot;use strict&quot;</span><span class=p>;</span>

    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
    <span class=nx>first</span> <span class=o>=</span> <span class=s2>&quot;c&quot;</span><span class=p>;</span>
    <span class=nx>second</span> <span class=o>=</span> <span class=s2>&quot;d&quot;</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
<span class=p>}</span>

<span class=nx>mixArgs</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=s2>&quot;b&quot;</span><span class=p>);</span>

<span class=c1>// The call to mixArgs() outputs: This time, changing first</span>
<span class=c1>// and second doesn’t affect arguments,</span>
<span class=c1>// so the output behaves as you’d normally expect it to.</span>

<span class=kc>true</span>
<span class=kc>true</span>
<span class=kc>false</span>
<span class=kc>false</span>


<span class=c1>// ###### ECMAScript 6 ######</span>
<span class=c1>// The arguments object in a function using ECMAScript 6 default parameter values,</span>
<span class=c1>// however, will always behave in the same manner as ECMAScript 5 strict mode.</span>

<span class=c1>// Note: Default value does not attach to the arguments object.</span>

<span class=kd>function</span> <span class=nx>mixArgs</span><span class=p>(</span><span class=nx>first</span><span class=p>,</span> <span class=nx>second</span> <span class=o>=</span> <span class=s2>&quot;b&quot;</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arguments</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
    <span class=nx>first</span> <span class=o>=</span> <span class=s2>&quot;c&quot;</span><span class=p>;</span>
    <span class=nx>second</span> <span class=o>=</span> <span class=s2>&quot;d&quot;</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span> <span class=o>===</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
<span class=p>}</span>

<span class=nx>mixArgs</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>);</span>

<span class=c1>// outputs:</span>

<span class=mi>1</span>
<span class=kc>true</span>
<span class=kc>false</span>
<span class=kc>false</span>
<span class=kc>false</span>

<span class=c1>// arguments.length is 1 because only one argument was passed to mixArgs().</span>
<span class=c1>// That also means arguments[1] is undefined and default value b</span>
<span class=c1>// is not attached to arguments object.</span>
</pre></div> </td></tr></table> <h3 id=default-parameter-expressions>Default parameter expressions<a class=headerlink href=#default-parameter-expressions title="Permanent link">&para;</a></h3> <p>Perhaps the most interesting feature of default parameter values is that the default value need not be a primitive value. You can, for example, execute a function to retrieve the default parameter value, like this:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>getValue</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=mi>5</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>add</span><span class=p>(</span><span class=nx>first</span><span class=p>,</span> <span class=nx>second</span> <span class=o>=</span> <span class=nx>getValue</span><span class=p>())</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>first</span> <span class=o>+</span> <span class=nx>second</span><span class=p>;</span>
<span class=p>}</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>add</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>));</span>     <span class=c1>// 2</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>add</span><span class=p>(</span><span class=mi>1</span><span class=p>));</span>        <span class=c1>// 6</span>

<span class=c1>// Be careful when using function calls as default parameter values.</span>
<span class=c1>// If you forget the parentheses, such as second = getValue in the last example,</span>
<span class=c1>// you are passing a reference to the function rather than the result of the function call.</span>
</pre></div> </td></tr></table> <h2 id=unnamed-parameters>Unnamed parameters<a class=headerlink href=#unnamed-parameters title="Permanent link">&para;</a></h2> <p>JavaScript functions don't limit the number of parameters that can be passed to the number of named parameters defined. You can always pass fewer or more parameters than formally specified.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ### ECMAScript 5 ###</span>
<span class=kd>function</span> <span class=nx>pick</span><span class=p>(</span><span class=nx>object</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

    <span class=c1>// start at the second parameter</span>
    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>len</span> <span class=o>=</span> <span class=nx>arguments</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>len</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>result</span><span class=p>[</span><span class=nx>arguments</span><span class=p>[</span><span class=nx>i</span><span class=p>]]</span> <span class=o>=</span> <span class=nx>object</span><span class=p>[</span><span class=nx>arguments</span><span class=p>[</span><span class=nx>i</span><span class=p>]];</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span> <span class=nx>book</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>title</span><span class=o>:</span> <span class=s2>&quot;Understanding ECMAScript 6&quot;</span><span class=p>,</span>
    <span class=nx>author</span><span class=o>:</span> <span class=s2>&quot;Nicholas C. Zakas&quot;</span><span class=p>,</span>
    <span class=nx>year</span><span class=o>:</span> <span class=mi>2015</span>
<span class=p>};</span>

<span class=kd>let</span> <span class=nx>bookData</span> <span class=o>=</span> <span class=nx>pick</span><span class=p>(</span><span class=nx>book</span><span class=p>,</span> <span class=s2>&quot;author&quot;</span><span class=p>,</span> <span class=s2>&quot;year&quot;</span><span class=p>);</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>bookData</span><span class=p>.</span><span class=nx>author</span><span class=p>);</span>   <span class=c1>// &quot;Nicholas C. Zakas&quot;</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>bookData</span><span class=p>.</span><span class=nx>year</span><span class=p>);</span>     <span class=c1>// 2015</span>


<span class=c1>// ### ECMAScript 6 ###</span>

<span class=c1>// Rest Parameters: A rest parameter is indicated by three dots (...)</span>
<span class=c1>// preceding a named parameter.</span>
<span class=c1>// That named parameter becomes an Array containing the rest of the parameters passed to</span>
<span class=c1>// the function, which is where the name “rest” parameters originates.</span>
<span class=c1>// For example, pick() can be rewritten using rest parameters, like this:</span>

<span class=kd>function</span> <span class=nx>pick</span><span class=p>(</span><span class=nx>object</span><span class=p>,</span> <span class=p>...</span><span class=nx>keys</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>len</span> <span class=o>=</span> <span class=nx>keys</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>len</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>result</span><span class=p>[</span><span class=nx>keys</span><span class=p>[</span><span class=nx>i</span><span class=p>]]</span> <span class=o>=</span> <span class=nx>object</span><span class=p>[</span><span class=nx>keys</span><span class=p>[</span><span class=nx>i</span><span class=p>]];</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=rest-parameter-restrictions>Rest parameter restrictions<a class=headerlink href=#rest-parameter-restrictions title="Permanent link">&para;</a></h3> <ol> <li> <p>There can be only one rest parameter, and the rest parameter must be last.</p> </li> <li> <p>Rest parameters cannot be used in an object literal setter.</p> </li> </ol> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>object</span> <span class=o>=</span> <span class=p>{</span>

    <span class=c1>// Syntax error: Can&#39;t use rest param in setter</span>
    <span class=nx>set</span> <span class=nx>name</span><span class=p>(...</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
        <span class=c1>// do something</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>//This restriction exists because object literal setters are restricted to</span>
<span class=c1>// a single argument. Rest parameters are, by definition, an infinite number of</span>
<span class=c1>// arguments, so they’re not allowed in this context.</span>
</pre></div> </td></tr></table> <h4 id=how-rest-parameters-affect-the-argument-object>How rest parameters affect the argument object<a class=headerlink href=#how-rest-parameters-affect-the-argument-object title="Permanent link">&para;</a></h4> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>checkArgs</span><span class=p>(...</span><span class=nx>args</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>args</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arguments</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>args</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>args</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=nx>arguments</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
<span class=p>}</span>

<span class=nx>checkArgs</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=s2>&quot;b&quot;</span><span class=p>);</span>

<span class=c1>// The call to checkArgs() outputs:</span>

<span class=mi>2</span>
<span class=mi>2</span>
<span class=nx>a</span> <span class=nx>a</span>
<span class=nx>b</span> <span class=nx>b</span>

<span class=c1>// The arguments object always correctly reflects the parameters</span>
<span class=c1>// that were passed into a function</span>
<span class=c1>// regardless of rest parameter usage.</span>
</pre></div> </td></tr></table> <h2 id=dual-purpose-of-functions>Dual purpose of functions<a class=headerlink href=#dual-purpose-of-functions title="Permanent link">&para;</a></h2> <p>JavaScript has two different internal-only methods for functions: <code>[[Call]]</code> and <code>[[Construct]]</code>. When a function is called without new, the [[Call]] method is executed, which executes the body of the function as it appears in the code. When a function is called with new, that's when the [[Construct]] method is called. The [[Construct]] method is responsible for creating a new object, called the new target, and then executing the function body with this set to the new target. Functions that have a [[Construct]] method are called constructors.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ### ECMAScript 5 ###</span>

<span class=kd>function</span> <span class=nx>Person</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=k>instanceof</span> <span class=nx>Person</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>   <span class=c1>// using new</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&quot;You must use new with Person.&quot;</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s2>&quot;Nicholas&quot;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>notAPerson</span> <span class=o>=</span> <span class=nx>Person</span><span class=p>(</span><span class=s2>&quot;Nicholas&quot;</span><span class=p>);</span>  <span class=c1>// throws error</span>

<span class=c1>// Here, the this value is checked to see if it’s an instance of the constructor,</span>
<span class=c1>// and if so, execution continues as normal. If this isn’t an instance of Person,</span>
<span class=c1>// then an error is thrown. This works because the [[Construct]] method creates</span>
<span class=c1>// a new instance of Person and assigns it to this. Unfortunately, this approach</span>
<span class=c1>// is not completely reliable because this can be an instance of Person without using</span>
<span class=c1>// new, as in this example:</span>

<span class=kd>function</span> <span class=nx>Person</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=k>instanceof</span> <span class=nx>Person</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>   <span class=c1>// using new</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&quot;You must use new with Person.&quot;</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s2>&quot;Nicholas&quot;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>notAPerson</span> <span class=o>=</span> <span class=nx>Person</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>person</span><span class=p>,</span> <span class=s2>&quot;Michael&quot;</span><span class=p>);</span>    <span class=c1>// works!</span>

<span class=c1>// The call to Person.call() passes the person variable as the first argument,</span>
<span class=c1>// which means this is set to person inside of the Person function. To the function,</span>
<span class=c1>// there’s no way to distinguish this from being called with new.</span>
</pre></div> </td></tr></table> <p>To solve this problem, ECMAScript 6 introduces the <code>new.target</code> metaproperty. A metaproperty is a property of a non-object that provides additional information related to its target (such as new). When a function's [[Construct]] method is called, <code>new.target</code> is filled with the target of the new operator. That target is typically the constructor of the newly created object instance that will become this inside the function body. If [[Call]] is executed, then <code>new.target</code> is undefined.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ### ECMAScript 6 ###</span>

<span class=kd>function</span> <span class=nx>Person</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=k>new</span><span class=p>.</span><span class=nx>target</span> <span class=o>!==</span> <span class=s2>&quot;undefined&quot;</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>   <span class=c1>// using new</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&quot;You must use new with Person.&quot;</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s2>&quot;Nicholas&quot;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>notAPerson</span> <span class=o>=</span> <span class=nx>Person</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>person</span><span class=p>,</span> <span class=s2>&quot;Michael&quot;</span><span class=p>);</span>    <span class=c1>// error!</span>
</pre></div> </td></tr></table> <blockquote> <p>Using <code>new.target</code> outside of a function is a syntax error.</p> </blockquote> <h2 id=arrow-functions>Arrow functions<a class=headerlink href=#arrow-functions title="Permanent link">&para;</a></h2> <p>Arrow functions behave differently than traditional JavaScript functions in a number of important ways:</p> <ul> <li><strong>No this, super, arguments, and new.target bindings</strong>.</li> <li><strong>Cannot be called with new</strong> - Arrow functions do not have a <code>[[Construct]]</code> method and therefore cannot be used as constructors. Arrow functions throw an error when used with <code>new</code>.</li> <li><strong>No prototype</strong> - since you can't use <code>new</code> on an arrow function, there's no need for a prototype. The <code>prototype</code> property of an arrow function doesn't exist.</li> <li><strong>Can't change this</strong> - The value of <code>this</code> inside of the function can't be changed. It remains the same throughout the entire lifecycle of the function.</li> <li><strong>No arguments object</strong> - Since arrow functions have no <code>arguments</code> binding, you must rely on named and rest parameters to access function arguments.</li> <li><strong>No duplicate named parameters</strong> - arrow functions cannot have duplicate named parameters in strict or nonstrict mode, as opposed to non arrow functions that cannot have duplicate named parameters only in strict mode.</li> </ul> <blockquote> <p>There are a few reasons for these differences. First and foremost, <code>this</code> binding is a common source of error in JavaScript. It's very easy to lose track of the <code>this</code> value inside a function, which can result in unintended program behavior, and arrow functions eliminate this confusion. Second, by limiting arrow functions to simply executing code with a single <code>this</code> value, JavaScript engines can more easily optimize these operations</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// ### When you want to provide a one expression which is return statement, then you no need</span>
<span class=c1>// to wrap the function body in braces and no need to define a return value.</span>

<span class=kd>var</span> <span class=nx>reflect</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>;</span>

<span class=cm>/**</span>
<span class=cm>var reflect = function(value) {</span>
<span class=cm>    return value;</span>
<span class=cm>};</span>
<span class=cm>**/</span>

<span class=kd>var</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>num1</span> <span class=o>+</span> <span class=nx>num2</span><span class=p>;</span>

<span class=cm>/**</span>
<span class=cm>var sum = function(num1, num2) {</span>
<span class=cm>    return num1 + num2;</span>
<span class=cm>};</span>
<span class=cm>**/</span>


<span class=kd>var</span> <span class=nx>getName</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=s2>&quot;Nicholas&quot;</span><span class=p>;</span>

<span class=cm>/**</span>
<span class=cm>var getName = function() {</span>
<span class=cm>    return &quot;Nicholas&quot;;</span>
<span class=cm>};</span>
<span class=cm>**/</span>


<span class=c1>// ### When you want to provide a more traditional function body,</span>
<span class=c1>// perhaps consisting of more than one</span>
<span class=c1>// expression, then you need to wrap the function body in braces</span>
<span class=c1>// and explicitly define a return value.</span>

<span class=kd>var</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>num1</span> <span class=o>+</span> <span class=nx>num2</span><span class=p>;</span>
<span class=p>};</span>

<span class=cm>/**</span>
<span class=cm>var sum = function(num1, num2) {</span>
<span class=cm>    return num1 + num2;</span>
<span class=cm>};</span>
<span class=cm>**/</span>

<span class=c1>// ### If you want to create a function that does nothing,</span>
<span class=c1>// then you need to include curly braces, like this:</span>

<span class=kd>var</span> <span class=nx>doNothing</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{};</span>

<span class=cm>/**</span>
<span class=cm>var doNothing = function() {};</span>
<span class=cm>**/</span>

<span class=c1>// ### Return an object literal</span>

<span class=kd>var</span> <span class=nx>getTempItem</span> <span class=o>=</span> <span class=nx>id</span> <span class=p>=&gt;</span> <span class=p>({</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>id</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&quot;Temp&quot;</span> <span class=p>});</span>

<span class=cm>/**</span>
<span class=cm>var getTempItem = function(id) {</span>

<span class=cm>    return {</span>
<span class=cm>        id: id,</span>
<span class=cm>        name: &quot;Temp&quot;</span>
<span class=cm>    };</span>
<span class=cm>};</span>
<span class=cm>**/</span>

<span class=c1>// ### Creating Immediately-Invoked Function Expressions</span>

<span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>((</span><span class=nx>name</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>

    <span class=k>return</span> <span class=p>{</span>
        <span class=nx>getName</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>return</span> <span class=nx>name</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>};</span>

<span class=p>})(</span><span class=s2>&quot;Nicholas&quot;</span><span class=p>);</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getName</span><span class=p>());</span>      <span class=c1>// &quot;Nicholas&quot;</span>

<span class=c1>// ### In Parameter</span>

<span class=kd>var</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>values</span><span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span><span class=p>);</span>

<span class=cm>/**</span>
<span class=cm>var result = values.sort(function(a, b) {</span>
<span class=cm>    return a - b;</span>
<span class=cm>});</span>
<span class=cm>**/</span>
</pre></div> </td></tr></table> <h3 id=no-this-binding>No this binding<a class=headerlink href=#no-this-binding title="Permanent link">&para;</a></h3> <p>One of the most common areas of error in JavaScript is the binding of this inside of functions. Since the value of this can change inside a single function depending on the context in which the function is called.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>var</span> <span class=nx>PageHandler</span> <span class=o>=</span> <span class=p>{</span>

    <span class=nx>id</span><span class=o>:</span> <span class=s2>&quot;123456&quot;</span><span class=p>,</span>

    <span class=nx>init</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
        <span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&quot;click&quot;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>doSomething</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span><span class=p>);</span>     <span class=c1>// error</span>
        <span class=p>},</span> <span class=kc>false</span><span class=p>);</span>
    <span class=p>},</span>

    <span class=nx>doSomething</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Handling &quot;</span> <span class=o>+</span> <span class=nx>type</span>  <span class=o>+</span> <span class=s2>&quot; for &quot;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// In this code, the object PageHandler is designed to handle interactions on the page.</span>
<span class=c1>// The init() method is called to set up the interactions, and that method in turn assigns</span>
<span class=c1>// an event handler to call this.doSomething(). However, this code doesn’t work exactly</span>
<span class=c1>// as intended.</span>
<span class=c1>// The call to this.doSomething() is broken because this is a reference to the object that</span>
<span class=c1>// was the target of the event (in this case document), instead of being bound to PageHandler.</span>
<span class=c1>// If you tried to run this code, you’d get an error when the event handler fires because</span>
<span class=c1>// this.doSomething() doesn’t exist on the target document object.</span>

<span class=c1>// ### You could fix this by binding the value of this to PageHandler explicitly</span>
<span class=c1>// using the bind() method on the function instead, like this:</span>

<span class=kd>var</span> <span class=nx>PageHandler</span> <span class=o>=</span> <span class=p>{</span>

    <span class=nx>id</span><span class=o>:</span> <span class=s2>&quot;123456&quot;</span><span class=p>,</span>

    <span class=nx>init</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
        <span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&quot;click&quot;</span><span class=p>,</span> <span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>doSomething</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span><span class=p>);</span>     <span class=c1>// no error</span>
        <span class=p>}).</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>),</span> <span class=kc>false</span><span class=p>);</span>
    <span class=p>},</span>

    <span class=nx>doSomething</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Handling &quot;</span> <span class=o>+</span> <span class=nx>type</span>  <span class=o>+</span> <span class=s2>&quot; for &quot;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// Now the code works as expected, but it may look a little bit strange.</span>
<span class=c1>// By calling bind(this), you’re actually creating a new function whose this</span>
<span class=c1>// is bound to the current this, which is PageHandler.</span>
<span class=c1>// To avoid creating an extra function, a better way to fix this code is</span>
<span class=c1>// to use an arrow function.</span>

<span class=c1>// ### Arrow functions have no this binding, which means the value of this</span>
<span class=c1>// inside an arrow function can only be determined by looking up the scope chain.</span>
<span class=c1>// If the arrow function is contained within a nonarrow function, this will</span>
<span class=c1>// be the same as the containing function; otherwise, this is undefined.</span>
<span class=c1>// Here’s one way you could write this code using an arrow function:</span>

<span class=kd>var</span> <span class=nx>PageHandler</span> <span class=o>=</span> <span class=p>{</span>

    <span class=nx>id</span><span class=o>:</span> <span class=s2>&quot;123456&quot;</span><span class=p>,</span>

    <span class=nx>init</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
        <span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&quot;click&quot;</span><span class=p>,</span>
            <span class=nx>event</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>doSomething</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span><span class=p>),</span> <span class=kc>false</span><span class=p>);</span>
    <span class=p>},</span>

    <span class=nx>doSomething</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Handling &quot;</span> <span class=o>+</span> <span class=nx>type</span>  <span class=o>+</span> <span class=s2>&quot; for &quot;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=c1>// The event handler in this example is an arrow function that calls this.doSomething().</span>
<span class=c1>// The value of this is the same as it is within init(), so this version of the code</span>
<span class=c1>// works similarly to the one using bind(this). Even though the doSomething()</span>
<span class=c1>// method doesn’t return a value, it’s still the only statement executed in the</span>
<span class=c1>// function body, and so there is no need to include braces.</span>

<span class=c1>// Also, since the this value is determined by the containing function in which</span>
<span class=c1>// the arrow function is defined, you cannot change the value of this using</span>
<span class=c1>// call(), apply(), or bind().</span>
</pre></div> </td></tr></table> <h3 id=when-not-to-use-arrow-function>When not to use arrow function<a class=headerlink href=#when-not-to-use-arrow-function title="Permanent link">&para;</a></h3> <p><strong>Inside an object literal.</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>var</span> <span class=nx>Actor</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;RajiniKanth&#39;</span><span class=p>,</span>
  <span class=nx>movies</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;Kabali&#39;</span><span class=p>,</span> <span class=s1>&#39;Sivaji&#39;</span><span class=p>,</span> <span class=s1>&#39;Baba&#39;</span><span class=p>],</span>
  <span class=nx>getName</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
     <span class=nx>alert</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>};</span>

<span class=nx>Actor</span><span class=p>.</span><span class=nx>getName</span><span class=p>();</span>
</pre></div> </td></tr></table> <p><code>Actor.getName</code> is defined with an arrow function, but on invocation it alerts undefined because <code>this.name</code> is <code>undefined</code> as the context remains to <code>window</code>.</p> <p>It happens because the arrow function binds the context lexically with the <code>window object</code>... i.e outer scope. Executing <code>this.name</code> is equivalent to <code>window.name</code>, which is undefined.</p> <h4 id=object-prototype>Object prototype<a class=headerlink href=#object-prototype title="Permanent link">&para;</a></h4> <p>The same rule applies when defining methods on a <code>prototype object</code>.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>Actor</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
<span class=p>}</span>
<span class=nx>Actor</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>getName</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span> <span class=o>===</span> <span class=nb>window</span><span class=p>);</span> <span class=c1>// =&gt; true</span>
  <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
<span class=p>};</span>
<span class=kd>var</span> <span class=nx>act</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Actor</span><span class=p>(</span><span class=s1>&#39;RajiniKanth&#39;</span><span class=p>);</span>
<span class=nx>act</span><span class=p>.</span><span class=nx>getName</span><span class=p>();</span> <span class=c1>// =&gt; undefined</span>
</pre></div> </td></tr></table> <h5 id=callback-with-dynamic-context>Callback with dynamic context<a class=headerlink href=#callback-with-dynamic-context title="Permanent link">&para;</a></h5> <p>Arrow function binds the <code>context</code> statically on declaration and is not possible to make it dynamic. Attaching event listeners to DOM elements is a common task in client side programming. An event triggers the handler function with this as the target element.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>var</span> <span class=nx>button</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;myButton&#39;</span><span class=p>);</span>
<span class=nx>button</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span> <span class=o>===</span> <span class=nb>window</span><span class=p>);</span> <span class=c1>// =&gt; true</span>
  <span class=k>this</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=s1>&#39;Clicked button&#39;</span><span class=p>;</span>
<span class=p>});</span>
</pre></div> </td></tr></table> <p><code>this</code> is window in an arrow function that is defined in the global context. When a click event happens, browser tries to invoke the handler function with button context, but arrow function does not change its pre-defined context. <code>this.innerHTML</code> is equivalent to <code>window.innerHTML</code> and has no sense.</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>