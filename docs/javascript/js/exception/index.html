<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/javascript/js/exception/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Exception - Notebook</title><link rel=stylesheet href=../../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#exception tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Exception </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../../data-structure-and-algorithms/ title="Data Structure and Algorithms" class=md-nav__link> Data Structure and Algorithms </a> </li> <li class=md-nav__item> <a href=../../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../../design-patterns/ title="Design Patterns" class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../../rest-api/ title="REST API" class=md-nav__link> REST API </a> </li> <li class=md-nav__item> <a href=../../../eslint/ title=ESLint class=md-nav__link> ESLint </a> </li> <li class=md-nav__item> <a href=../../ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../../react-native/ title="React Native" class=md-nav__link> React Native </a> </li> <li class=md-nav__item> <a href=../../../redux-saga/ title="Redux Saga" class=md-nav__link> Redux Saga </a> </li> <li class=md-nav__item> <a href=../../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../../web-security/ title="Web Security" class=md-nav__link> Web Security </a> </li> <li class=md-nav__item> <a href=../../../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#syntax-error class=md-nav__link> Syntax error </a> </li> <li class=md-nav__item> <a href=#trycatch class=md-nav__link> try/catch </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#jsonparse class=md-nav__link> JSON.parse </a> </li> <li class=md-nav__item> <a href=#work-synchronously class=md-nav__link> Work synchronously </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#throw class=md-nav__link> throw </a> </li> <li class=md-nav__item> <a href=#without-error-object class=md-nav__link> Without Error object </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#throwing-object class=md-nav__link> Throwing object </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#with-error-object class=md-nav__link> With Error object </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#throwing-object_1 class=md-nav__link> Throwing object </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#rethrow class=md-nav__link> Rethrow </a> </li> <li class=md-nav__item> <a href=#trycatchfinally class=md-nav__link> try/catch/finally </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#finally-and-return class=md-nav__link> finally and return </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#javascript-built-in-error-constructors class=md-nav__link> JavaScript built in Error constructors </a> </li> <li class=md-nav__item> <a href=#points-to-note class=md-nav__link> Points to note </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> [1] </a> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> [2] </a> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> [3] </a> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> [4] </a> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> [5] </a> </li> <li class=md-nav__item> <a href=#6 class=md-nav__link> [6] </a> </li> <li class=md-nav__item> <a href=#7 class=md-nav__link> [7] </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/javascript/js/exception.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=exception>Exception<a class=headerlink href=#exception title="Permanent link">&para;</a></h1> <h2 id=syntax-error>Syntax error<a class=headerlink href=#syntax-error title="Permanent link">&para;</a></h2> <p>Syntax error, if program strucutre is not complied to the rules then javasript stop executing. Script “dies” (immediately stops) in case of an error, printing it to console. For example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>fn</span><span class=p>()</span> <span class=p>{</span>
  <span class=c1>// Syntax error.</span>
  <span class=k>new</span> <span class=k>new</span><span class=p>;</span>
  <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>

<span class=nx>fn</span><span class=p>();</span>
</pre></div> </td></tr></table> <p>There is not point executing the code further if there is a syntax error.</p> <blockquote> <p><strong>Syntax errors are not cachable using <code>try/catch</code></strong>. Before <code>try/catch</code> to work you must have code which is syntactically correct.</p> <p>For <code>try/catch</code> to work, the code must be runnable. See the example above.</p> </blockquote> <p>In other words, it should be valid JavaScript. It won’t work if the code is syntactically wrong. So, <code>try/catch</code> can only handle errors that occur in the valid code. Such errors are called “runtime errors” or, sometimes, “exceptions”.</p> <h2 id=trycatch>try/catch<a class=headerlink href=#trycatch title="Permanent link">&para;</a></h2> <p><code>try/catch</code> that allows to “catch” errors and, instead of dying, do something more reasonable.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>

<span class=c1>// Script stops here.</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>);</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>#</span> <span class=k>Output</span>
<span class=mi>1</span>
<span class=n>Uncaught</span> <span class=n>ReferenceError</span><span class=p>:</span> <span class=n>a</span> <span class=k>is</span> <span class=k>not</span> <span class=k>defined</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>

<span class=k>try</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>);</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// Catch error here and continue execution.</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
<span class=p>}</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>#</span> <span class=k>Output</span>

<span class=mi>1</span>
<span class=n>a</span> <span class=k>is</span> <span class=k>not</span> <span class=k>defined</span>
<span class=mi>2</span>
</pre></div> </td></tr></table> <h3 id=jsonparse>JSON.parse<a class=headerlink href=#jsonparse title="Permanent link">&para;</a></h3> <p><code>JSON.parse()</code> evaluate the javasript string and return javasript code out of it. So sometimes if string is not a valid json string then javasript throws a syntax error, which means your code will die. So instead checking if the string is a valid json, you can wrap the <code>JSON.parse</code> in <code>try/catch</code> and let not the script die unexpectingly.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>

<span class=c1>// Invalid json</span>
<span class=kd>let</span> <span class=nx>json</span> <span class=o>=</span> <span class=s1>&#39;[&quot;test&quot; : 123]&#39;</span><span class=p>;</span>
<span class=k>try</span> <span class=p>{</span>
  <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>json</span><span class=p>);</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
<span class=p>}</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>#</span> <span class=k>Output</span>

<span class=mi>1</span>
<span class=n>Unexpected</span> <span class=n>token</span> <span class=p>:</span> <span class=k>in</span> <span class=n>JSON</span> <span class=k>at</span> <span class=k>position</span> <span class=mi>8</span>
<span class=mi>2</span>
</pre></div> </td></tr></table> <h3 id=work-synchronously>Work synchronously<a class=headerlink href=#work-synchronously title="Permanent link">&para;</a></h3> <p>If an exception happens in “scheduled” code, like in <code>setTimeout</code>, then <code>try..catch</code> won’t catch it:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>try</span> <span class=p>{</span>
  <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
    <span class=nx>noSuchVariable</span><span class=p>;</span> <span class=c1>// script will die here</span>
  <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>alert</span><span class=p>(</span> <span class=s2>&quot;won&#39;t work&quot;</span> <span class=p>);</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>That’s because <code>try..catch</code> actually wraps the <code>setTimeout</code> call that schedules the function. But the function itself is executed later, when the engine has already left the <code>try..catch</code> construct.</p> <p>To catch an exception inside a scheduled function, <code>try..catch</code> must be inside that function:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=nx>noSuchVariable</span><span class=p>;</span> <span class=c1>// try..catch handles the error!</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>{</span>
    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&quot;error is caught here!&quot;</span> <span class=p>);</span>
  <span class=p>}</span>
<span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</pre></div> </td></tr></table> <h2 id=throw>throw<a class=headerlink href=#throw title="Permanent link">&para;</a></h2> <blockquote> <p><code>throw</code> stops the script execution if not catched.</p> </blockquote> <h2 id=without-error-object>Without Error object<a class=headerlink href=#without-error-object title="Permanent link">&para;</a></h2> <blockquote> <p>Any expression after <code>throw</code>.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// generates an exception with a string value</span>
<span class=k>throw</span> <span class=s1>&#39;Error2&#39;</span><span class=p>;</span>
<span class=c1>// generates an exception with the value 42</span>
<span class=k>throw</span> <span class=mi>42</span><span class=p>;</span>
<span class=c1>// generates an exception with the value true</span>
<span class=k>throw</span> <span class=kc>true</span><span class=p>;</span>
<span class=c1>// generates an exception with the value object</span>
<span class=k>throw</span> <span class=p>{</span><span class=nx>extra</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>,</span> <span class=nx>debug</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>};</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>try</span> <span class=p>{</span>
  <span class=k>throw</span> <span class=s1>&#39;Index is missing&#39;</span><span class=p>;</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// `e` here is a string.</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span> <span class=c1>// Index is missing.</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=throwing-object>Throwing object<a class=headerlink href=#throwing-object title="Permanent link">&para;</a></h3> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>extra</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>,</span> <span class=nx>debug</span><span class=o>:</span> <span class=s1>&#39;message&#39;</span> <span class=p>};</span>
<span class=k>try</span> <span class=p>{</span>
  <span class=c1>// Can be any expression, even object.</span>
  <span class=k>throw</span> <span class=nx>obj</span><span class=p>;</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// e here is a object</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span> <span class=c1>// { extra: &#39;info&#39;, debug: &#39;message&#39; }</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>Technically, we can use anything as an error object. That may be even a primitive, like a number or a string, but it’s better to use objects, preferably with <code>name</code> and <code>message</code> properties (to stay somewhat compatible with built-in errors).</p> <h2 id=with-error-object>With Error object<a class=headerlink href=#with-error-object title="Permanent link">&para;</a></h2> <blockquote> <p>Error arg is of type string.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// generates an error object with the message of Required</span>
<span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Required&#39;</span><span class=p>);</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>try</span> <span class=p>{</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Index is missing&#39;</span><span class=p>);</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// `e` here is a object.</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// Error.</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span> <span class=c1>// Index is missing.</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=throwing-object_1>Throwing object<a class=headerlink href=#throwing-object_1 title="Permanent link">&para;</a></h3> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>extra</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>,</span> <span class=nx>debug</span><span class=o>:</span> <span class=s1>&#39;message&#39;</span> <span class=p>};</span>
<span class=k>try</span> <span class=p>{</span>
  <span class=c1>// linting error.</span>
  <span class=c1>// Can only be string arg.</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=nx>obj</span><span class=p>);</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// e.message is a string.</span>
  <span class=c1>// object is coerced to string.</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span> <span class=c1>// [object Object]</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p><strong>Solution</strong> - <code>JSON.stringify</code></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>extra</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>,</span> <span class=nx>debug</span><span class=o>:</span> <span class=s1>&#39;message&#39;</span> <span class=p>};</span>
<span class=k>try</span> <span class=p>{</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>obj</span><span class=p>));</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>));</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h2 id=rethrow>Rethrow<a class=headerlink href=#rethrow title="Permanent link">&para;</a></h2> <p><strong>Catch should only process errors that it knows and “rethrow” all others.</strong></p> <p>The “rethrowing” technique can be explained in more detail as:</p> <ol> <li>Catch gets all errors.</li> <li>In <code>catch(err) {...}</code> block we analyze the error object <code>err</code>.</li> <li>If we don’t know how to handle it, then we do <code>throw err</code>.</li> </ol> <p>In the code below, we use rethrowing so that <code>catch</code> only handles <code>SyntaxError</code>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>let</span> <span class=nx>json</span> <span class=o>=</span> <span class=s1>&#39;{ &quot;age&quot;: 30 }&#39;</span><span class=p>;</span> <span class=c1>// incomplete data</span>
<span class=k>try</span> <span class=p>{</span>

  <span class=kd>let</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>json</span><span class=p>);</span>

  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>user</span><span class=p>.</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>throw</span> <span class=k>new</span> <span class=nx>SyntaxError</span><span class=p>(</span><span class=s2>&quot;Incomplete data: no name&quot;</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nx>blabla</span><span class=p>();</span> <span class=c1>// unexpected error</span>

  <span class=nx>alert</span><span class=p>(</span> <span class=nx>user</span><span class=p>.</span><span class=nx>name</span> <span class=p>);</span>

<span class=p>}</span> <span class=k>catch</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>

  <span class=k>if</span> <span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>name</span> <span class=o>==</span> <span class=s2>&quot;SyntaxError&quot;</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&quot;JSON Error: &quot;</span> <span class=o>+</span> <span class=nx>e</span><span class=p>.</span><span class=nx>message</span> <span class=p>);</span>
  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
    <span class=k>throw</span> <span class=nx>e</span><span class=p>;</span> <span class=c1>// rethrow (*)</span>
  <span class=p>}</span>

<span class=p>}</span>
</pre></div> </td></tr></table> <p>The error throwing on line <code>(*)</code> from inside <code>catch</code> block “falls out” of <code>try..catch</code> and can be either caught by an outer <code>try/catch</code> construct (if it exists), or it kills the script.</p> <p>So the <code>catch</code> block actually handles only errors that it knows how to deal with and “skips” all others.</p> <p>The example below demonstrates how such errors can be caught by one more level of <code>try/catch</code>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>readData</span><span class=p>()</span> <span class=p>{</span>
  <span class=kd>let</span> <span class=nx>json</span> <span class=o>=</span> <span class=s1>&#39;{ &quot;age&quot;: 30 }&#39;</span><span class=p>;</span>

  <span class=k>try</span> <span class=p>{</span>
    <span class=c1>// ...</span>
    <span class=nx>blabla</span><span class=p>();</span> <span class=c1>// error!</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// ...</span>
    <span class=k>if</span> <span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>name</span> <span class=o>!=</span> <span class=s1>&#39;SyntaxError&#39;</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>throw</span> <span class=nx>e</span><span class=p>;</span> <span class=c1>// rethrow (don&#39;t know how to deal with it)</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=k>try</span> <span class=p>{</span>
  <span class=nx>readData</span><span class=p>();</span>
<span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>alert</span><span class=p>(</span> <span class=s2>&quot;External catch got: &quot;</span> <span class=o>+</span> <span class=nx>e</span> <span class=p>);</span> <span class=c1>// caught it!</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>Here <code>readData</code> only knows how to handle <code>SyntaxError</code>, while the outer <code>try/catch</code> knows how to handle everything.</p> <h2 id=trycatchfinally>try/catch/finally<a class=headerlink href=#trycatchfinally title="Permanent link">&para;</a></h2> <p>If it exists, it runs in all cases:</p> <ul> <li>after <code>try</code>, if there were no errors,</li> <li>after <code>catch</code>, if there were errors.</li> </ul> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=k>try</span> <span class=p>{</span>
   <span class=c1>// ... try to execute the code ...</span>
<span class=p>}</span> <span class=k>catch</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
   <span class=p>.</span><span class=c1>// .. handle errors ...</span>
<span class=p>}</span> <span class=k>finally</span> <span class=p>{</span>
   <span class=c1>// ... execute always ...</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=finally-and-return>finally and return<a class=headerlink href=#finally-and-return title="Permanent link">&para;</a></h3> <p>The <code>finally</code> clause works for <em>any</em> exit from <code>try..catch</code>. That includes an explicit <code>return</code>.</p> <p>In the example below, there’s a <code>return</code> in <code>try</code>. In this case, <code>finally</code> is executed just before the control returns to the outer code.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>func</span><span class=p>()</span> <span class=p>{</span>

  <span class=k>try</span> <span class=p>{</span>
    <span class=k>return</span> <span class=mi>1</span><span class=p>;</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=cm>/* ... */</span>
  <span class=p>}</span> <span class=k>finally</span> <span class=p>{</span>
    <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;finally&#39;</span> <span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=c1>// first works alert from finally, and then this one</span>
<span class=nx>alert</span><span class=p>(</span> <span class=nx>func</span><span class=p>()</span> <span class=p>);</span>
</pre></div> </td></tr></table> <h2 id=javascript-built-in-error-constructors>JavaScript built in Error constructors<a class=headerlink href=#javascript-built-in-error-constructors title="Permanent link">&para;</a></h2> <p>JavaScript has many built-in constructors for standard errors: <code>Error</code>, <code>SyntaxError</code>, <code>ReferenceError</code>, <code>TypeError</code>and others. We can use them to create error objects as well.</p> <blockquote> <p><strong>name</strong> property tells you about the <code>type</code> of error.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// e.name = Error</span>
<span class=kd>let</span> <span class=nx>error</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
<span class=c1>// e.name = SyntaxError</span>
<span class=kd>let</span> <span class=nx>error</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>SyntaxError</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
<span class=c1>// e.name = ReferenceError</span>
<span class=kd>let</span> <span class=nx>error</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ReferenceError</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</pre></div> </td></tr></table> <h2 id=points-to-note>Points to note<a class=headerlink href=#points-to-note title="Permanent link">&para;</a></h2> <h3 id=1>[1]<a class=headerlink href=#1 title="Permanent link">&para;</a></h3> <p><code>throw</code> statement stop the execution of whole script if uncaught. Even throw in a function, it stops function execution as well as script execution as whole.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>fn</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;eeee...&#39;</span><span class=p>);</span>
<span class=p>}</span>
<span class=nx>fn</span><span class=p>();</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span> <span class=c1>// won&#39;t run.</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Uncaught</span> <span class=n>Error</span><span class=p>:</span> <span class=n>eeee</span><span class=p>...</span>
  <span class=k>at</span> <span class=n>fn</span>
</pre></div> </td></tr></table> <h3 id=2>[2]<a class=headerlink href=#2 title="Permanent link">&para;</a></h3> <p>If you throw and error using <code>throw</code> statement in a function without <code>try/catch</code> then the error thrown is captured by parent function's <code>try/catch</code>. If parent function does not have <code>try/catch</code> then javascript look for <code>try/catch</code> in next parent in function stack hierarchy. If error is not handled by any <code>try/catch</code> then script stops by uncaught exception message.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>child</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;eeee...&#39;</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>parent</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>child</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>ancestor</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>parent</span><span class=p>();</span>
<span class=p>}</span>

<span class=nx>ancestor</span><span class=p>();</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>);</span> <span class=c1>// Won&#39;t run.</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>Uncaught</span> <span class=n>Error</span><span class=p>:</span> <span class=n>eeee</span><span class=p>...</span>
  <span class=k>at</span> <span class=n>child</span>
  <span class=k>at</span> <span class=n>parent</span>
  <span class=k>at</span> <span class=n>ancestor</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>child</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;eeee...&#39;</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>parent</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>child</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>ancestor</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=nx>parent</span><span class=p>();</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>ancestor</span><span class=p>();</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>);</span> <span class=c1>// Will run.</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>eeee</span><span class=p>...</span>
<span class=n>Hello</span>
</pre></div> </td></tr></table> <h3 id=3>[3]<a class=headerlink href=#3 title="Permanent link">&para;</a></h3> <p>If you throw an error inside <code>try</code> block then that error must be handled by the its own <code>catch</code> block. If you do not do so then the error go unnoticed because it will also not be captured by parent's <code>catch</code> block. So you must handled any error inside <code>try</code> block in its own <code>catch</code> block.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>child</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;eeee...&#39;</span><span class=p>);</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// not handled here.</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>parent</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=nx>child</span><span class=p>();</span> <span class=c1>// throw an error.</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// Won&#39;t get the error `eeee...` here.</span>
    <span class=c1>// Go unnoticed.</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
<span class=nx>parent</span><span class=p>();</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=mi>1</span>
</pre></div> </td></tr></table> <p><strong>Solution</strong> - Check point [4] below.</p> <h3 id=4>[4]<a class=headerlink href=#4 title="Permanent link">&para;</a></h3> <p>If you want to propagate or want to handle the error thrown inside the <code>try</code> block by its parent <code>catch</code> block then you first have to capture it in its own <code>catch</code> block and then <code>rethrow</code> it.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>child</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;eeee...&#39;</span><span class=p>);</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// rethrow</span>
    <span class=k>throw</span> <span class=nx>e</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>parent</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=nx>child</span><span class=p>();</span> <span class=c1>// throw an error.</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
<span class=nx>parent</span><span class=p>();</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</pre></div> </td></tr></table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>eeee</span><span class=p>...</span>
<span class=mi>1</span>
</pre></div> </td></tr></table> <h3 id=5>[5]<a class=headerlink href=#5 title="Permanent link">&para;</a></h3> <p>If error object that you get in <code>catch</code> block is generated by <code>new Error()</code> then while rethrowing it again as it is in catch block, do not use <code>new Error()</code> statement again. Simply throw it using statement <code>throw</code>. There is no need to wrap it again using <code>new</code>.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>fn</span><span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;eeee...&#39;</span><span class=p>);</span>
  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// rethrow</span>
    <span class=c1>// e is already is of type Error.</span>
    <span class=c1>// throw new Error(e); // Not recommended.</span>
    <span class=k>throw</span> <span class=nx>e</span><span class=p>;</span> <span class=c1>// Recommended.</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h3 id=6>[6]<a class=headerlink href=#6 title="Permanent link">&para;</a></h3> <p>The usefulness of <code>try/catch</code> is that; if any statement or line of code throw an exception in <code>try</code> block then you can handle the error gracefully in <code>catch</code> block and prevent an application from sudden death. From <code>catch</code> you can return some other data back to calling function.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>getUser</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>try</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>fetchUser</span><span class=p>();</span>
    <span class=k>return</span> <span class=nx>user</span><span class=p>;</span>
  <span class=p>}</span> <span class=k>catch</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// assume fetchUser() call is failed</span>
    <span class=c1>// then in catch block you can return</span>
    <span class=c1>// empty object to parent function and</span>
    <span class=c1>// log an error.</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
    <span class=k>return</span> <span class=p>{};</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>processUser</span><span class=p>()</span> <span class=p>{</span>
  <span class=c1>// Either you get User object</span>
  <span class=c1>// or empty object when failed</span>
  <span class=c1>// and script won&#39;t stop on error.</span>
  <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>getUser</span><span class=p>();</span>
<span class=p>}</span>

<span class=nx>processUser</span><span class=p>();</span>
</pre></div> </td></tr></table> <h3 id=7>[7]<a class=headerlink href=#7 title="Permanent link">&para;</a></h3> <p>Avoid the need to check or validate object key presence using multiple <code>if</code> statements.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>getMetadataFromStorage</span> <span class=p>(</span><span class=nx>id</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=nx>sessionStorage</span> <span class=o>!==</span> <span class=kc>undefined</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// null is returned if key does not exist</span>
    <span class=kd>let</span> <span class=nx>metadata</span> <span class=o>=</span> <span class=nx>sessionStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>hackerNewsXStoryKey</span><span class=si>}${</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
    <span class=k>if</span> <span class=p>(</span><span class=nx>metadata</span> <span class=o>!==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>try</span> <span class=p>{</span>
        <span class=c1>// Try/catch block because local storage</span>
        <span class=c1>// can manipulated by other sources and</span>
        <span class=c1>// you may not get what you are expecting</span>
        <span class=c1>// so if JSON parsing is failed, storage is not</span>
        <span class=c1>// object, if storage is object then metadata key</span>
        <span class=c1>// is missing and metadata is present but it is not object.</span>
        <span class=c1>// So instead deeply check the type and key of storage variable</span>
        <span class=c1>// using multiple if statements, it is better to use try/catch</span>
        <span class=c1>// which catch any type of error.</span>
        <span class=k>return</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>metadata</span><span class=p>);</span>
      <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>Util</span><span class=p>.</span><span class=nx>consoleWarn</span><span class=p>(</span><span class=sb>`Cannot get metadata from storage [</span><span class=si>${</span><span class=nx>id</span><span class=si>}</span><span class=sb>]`</span><span class=p>);</span>
      <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>