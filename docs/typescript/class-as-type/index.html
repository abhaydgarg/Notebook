<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/typescript/class-as-type/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Class as type - Notebook</title><link rel=stylesheet href=../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#class-as-type tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> Class as type </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../data-structure-and-algorithms/ title="Data structure and algorithms" class=md-nav__link> Data structure and algorithms </a> </li> <li class=md-nav__item> <a href=../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../design-patterns/ title="Design patterns" class=md-nav__link> Design patterns </a> </li> <li class=md-nav__item> <a href=../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../javascript/ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../expressjs/ title=Express.js class=md-nav__link> Express.js </a> </li> <li class=md-nav__item> <a href=../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../linters/ title=Linters class=md-nav__link> Linters </a> </li> <li class=md-nav__item> <a href=../../graphql/ title=GraphQL class=md-nav__link> GraphQL </a> </li> <li class=md-nav__item> <a href=../../redux-saga/ title="Redux saga" class=md-nav__link> Redux saga </a> </li> <li class=md-nav__item> <a href=../../rxjs/ title=RxJS class=md-nav__link> RxJS </a> </li> <li class=md-nav__item> <a href=../ title=Typescript class=md-nav__link> Typescript </a> </li> <li class=md-nav__item> <a href=../../web-security/ title="Web security" class=md-nav__link> Web security </a> </li> <li class=md-nav__item> <a href=../../react-native/ title="React native" class=md-nav__link> React native </a> </li> <li class=md-nav__item> <a href=../../rust/ title=Rust class=md-nav__link> Rust </a> </li> <li class=md-nav__item> <a href=../../python/ title=Python class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../../php/ title=PHP class=md-nav__link> PHP </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#should-i-be-using-an-interface-or-a-class-for-this-type-annotation class=md-nav__link> Should I be using an interface or a class for this type annotation </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/typescript/class-as-type.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=class-as-type>Class as type<a class=headerlink href=#class-as-type title="Permanent link">&para;</a></h1> <p>You can use class as <strong>type</strong> ("shape/structure") like an interface.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>class</span> <span class=nx>Point</span> <span class=p>{</span>
    <span class=nx>x</span>: <span class=kt>number</span><span class=p>;</span>
    <span class=nx>y</span>: <span class=kt>number</span><span class=p>;</span>
    <span class=nx>multiply</span><span class=p>()</span><span class=o>:</span> <span class=kt>number</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span> <span class=nx>point</span>: <span class=kt>Point</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>x</span>: <span class=kt>1</span><span class=p>,</span>
  <span class=nx>y</span>: <span class=kt>2</span><span class=p>,</span>
  <span class=nx>multiply</span>: <span class=kt>function</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>x</span> <span class=o>*</span> <span class=k>this</span><span class=p>.</span><span class=nx>y</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>};</span>
</pre></div> </td></tr></table> <p><strong>Class can also be extended with <code>interface</code>.</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>class</span> <span class=nx>Point</span> <span class=p>{</span>
    <span class=nx>x</span>: <span class=kt>number</span><span class=p>;</span>
    <span class=nx>y</span>: <span class=kt>number</span><span class=p>;</span>
<span class=p>}</span>

<span class=kr>interface</span> <span class=nx>Point3d</span> <span class=kr>extends</span> <span class=nx>Point</span> <span class=p>{</span>
    <span class=nx>z</span>: <span class=kt>number</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span> <span class=nx>point3d</span>: <span class=kt>Point3d</span> <span class=o>=</span> <span class=p>{</span><span class=nx>x</span>: <span class=kt>1</span><span class=p>,</span> <span class=nx>y</span>: <span class=kt>2</span><span class=p>,</span> <span class=nx>z</span>: <span class=kt>3</span><span class=p>};</span>
</pre></div> </td></tr></table> <h2 id=should-i-be-using-an-interface-or-a-class-for-this-type-annotation>Should I be using an interface or a class for <code>this</code> type annotation<a class=headerlink href=#should-i-be-using-an-interface-or-a-class-for-this-type-annotation title="Permanent link">&para;</a></h2> <p>Let’s start off with an example in order to focus in on what we are trying to understand in this post:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://jameshenry.blog/foo/bar&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>response</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=p>)</span> <span class=c1>// Some HTTP status code, such as 200</span>
    <span class=p>})</span>
</pre></div> </td></tr></table> <p>If we let TypeScript take a look at this code as it is now, it would be forced to infer the type of the response parameter as any. There is no way for it to know, just by analysing the code, what the type should be.</p> <p>At this point, to increase the type safety of our program, we would want to add our own explicit type annotation to response, in order to tell the TypeScript compiler what we believe the type should be:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://jameshenry.blog/foo/bar&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>response</span>: <span class=kt>Response</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=p>)</span>
    <span class=p>})</span>
</pre></div> </td></tr></table> <p>Now we have reached the central question that; Should our new <code>Response</code> type be defined as an <code>interface</code> or a <code>class</code>?</p> <p>In TypeScript, an interface is a way for us to take particular shape and give it a name, so that we can reference it later as a type in our program.</p> <blockquote> <p><strong>“If it looks like a duck, and quacks like a duck, it’s a duck.”</strong></p> </blockquote> <p>In other words, we are determining if something can be classified as a particular type by looking at whether or not it has the required characteristics/structure/shape. Let’s call it <strong>“shape”</strong> from now on.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// A duck must have...</span>
<span class=kr>interface</span> <span class=nx>Duck</span> <span class=p>{</span>
    <span class=c1>// ...a `hasWings` property with the value `true` (boolean literal type)</span>
    <span class=nx>hasWings</span>: <span class=kt>true</span>
    <span class=c1>// ...a `noOfFeet` property with the value `2` (number literal type)</span>
    <span class=nx>noOfFeet</span>: <span class=kt>2</span>
    <span class=c1>// ...a `quack` method which does not return anything</span>
    <span class=nx>quack</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>From now on in our TypeScript code, if we want to make sure something is a duck (which really means, it “implements our Duck interface”), all we need to do is reference its type as <code>Duck</code>.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// This would pass type-checking!</span>
<span class=kr>const</span> <span class=nx>duck</span>: <span class=kt>Duck</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>hasWings</span>: <span class=kt>true</span><span class=p>,</span>
    <span class=nx>noOfFeet</span>: <span class=kt>2</span><span class=p>,</span>
    <span class=nx>quack() {</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Quack!&#39;</span><span class=p>)</span>
    <span class=p>},</span>
<span class=p>}</span>

<span class=c1>// This would not pass type-checking as it does not</span>
<span class=c1>// correctly implement the Duck interface.</span>
<span class=kr>const</span> <span class=nx>notADuck</span>: <span class=kt>Duck</span> <span class=o>=</span> <span class=p>{}</span>
<span class=c1>// The TypeScript compiler would tell us</span>
<span class=c1>// &quot;Type &#39;{}&#39; is not assignable to type &#39;Duck&#39;.</span>
<span class=c1>// Property &#39;hasWings&#39; is missing in type &#39;{}&#39;.&quot;</span>
</pre></div> </td></tr></table> <p>Now we understand how interfaces can help TypeScript catch more potential issues in our code at compile time, but there is one more critical feature of interfaces that we need to keep in mind:</p> <blockquote> <p>An interface is only used by TypeScript at compile time, and is then removed. Interfaces do not end up in our final JavaScript output.</p> </blockquote> <p>Let’s complete the section on interfaces by finally defining our dead simple Response type as an <code>interface</code>:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>interface</span> <span class=nx>Response</span> <span class=p>{</span>
    <span class=nx>status</span>: <span class=kt>number</span> <span class=c1>// Some HTTP status code, such as 200</span>
<span class=p>}</span>

<span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://jameshenry.blog/foo/bar&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>response</span>: <span class=kt>Response</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=p>)</span>
    <span class=p>})</span>
</pre></div> </td></tr></table> <p><em>Typescript transpile code into:</em></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// interface code is removed in final output</span>

<span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://jameshenry.blog/foo/bar&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=p>);</span>
<span class=p>});</span>
</pre></div> </td></tr></table> <p><strong>Let’s now take our example and redefine our Response type as a class instead of an interface:</strong></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>class</span> <span class=nx>Response</span> <span class=p>{</span>
    <span class=nx>status</span>: <span class=kt>number</span> <span class=c1>// Some HTTP status code, such as 200</span>
<span class=p>}</span>

<span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://jameshenry.blog/foo/bar&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>response</span>: <span class=kt>Response</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=p>)</span>
    <span class=p>})</span>
</pre></div> </td></tr></table> <p>As we can see, in this case it is simply a matter of changing interface to class, and if we pass our code through the TypeScript compiler, we will still have the exact same level of type-safety and produce no compile time errors! So far, the behaviour is identical.&gt;</p> <blockquote> <p>The real difference comes when we consider our compiled JavaScript output.</p> <p><strong>The biggest difference between a class and an interface is that a class provides an implementation of something, not just its shape.</strong></p> </blockquote> <p><em>Typescript transpile code into:</em></p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>var</span> <span class=nx>Response</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
    <span class=kd>function</span> <span class=nx>Response</span><span class=p>()</span> <span class=p>{</span>
    <span class=p>}</span>
    <span class=k>return</span> <span class=nx>Response</span><span class=p>;</span>
<span class=p>}());</span>
<span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://jameshenry.blog/foo/bar&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=p>);</span>
<span class=p>});</span>
</pre></div> </td></tr></table> <p>Very different! As we can see, our class is being transpiled into its ES5-compatible function form, and is now an unnecessary part of our final JavaScript application. If we had a large application, and repeated this pattern of using <code>classes</code> as model type annotations, then we could end up adding a lot of extra bloat to our users’ bundles.</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>