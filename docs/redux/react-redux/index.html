<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/redux/react-redux/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>react-redux - Notebook</title><link rel=stylesheet href=../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#react-redux tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> react-redux </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../../data-structure-and-algorithms/ title="Data Structure and Algorithms" class=md-nav__link> Data Structure and Algorithms </a> </li> <li class=md-nav__item> <a href=../../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../../design-patterns/ title="Design Patterns" class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../rest-api/ title="REST API" class=md-nav__link> REST API </a> </li> <li class=md-nav__item> <a href=../../javascript/ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../../npm/ title=NPM class=md-nav__link> NPM </a> </li> <li class=md-nav__item> <a href=../ title=Redux class=md-nav__link> Redux </a> </li> <li class=md-nav__item> <a href=../../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../../react-native/ title="React Native" class=md-nav__link> React Native </a> </li> <li class=md-nav__item> <a href=../../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../../web-security/ title="Web Security" class=md-nav__link> Web Security </a> </li> <li class=md-nav__item> <a href=../../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#handling-action-creators-reducers-selectors-efficiently class=md-nav__link> Handling action creators, reducers, selectors efficiently </a> </li> <li class=md-nav__item> <a href=#action class=md-nav__link> action </a> </li> <li class=md-nav__item> <a href=#reducer class=md-nav__link> reducer </a> </li> <li class=md-nav__item> <a href=#mapstatetoprops class=md-nav__link> mapStateToProps </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#selectors class=md-nav__link> Selectors </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mapdispatchtoprops class=md-nav__link> mapDispatchToProps </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#number-of-ways-to-dispatch class=md-nav__link> Number of ways to dispatch </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#default-dispatch-as-a-prop class=md-nav__link> Default: dispatch as a Prop </a> </li> <li class=md-nav__item> <a href=#using-mapdispatchtoprops class=md-nav__link> Using mapDispatchToProps </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-mapdispatchtoprops-as-a-function class=md-nav__link> [1] mapDispatchToProps as a function </a> </li> <li class=md-nav__item> <a href=#2-mapdispatchtoprops-as-a-object class=md-nav__link> [2] mapDispatchToProps as a object </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/redux/react-redux.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=react-redux>react-redux<a class=headerlink href=#react-redux title="Permanent link">&para;</a></h1> <h2 id=handling-action-creators-reducers-selectors-efficiently>Handling action creators, reducers, selectors efficiently<a class=headerlink href=#handling-action-creators-reducers-selectors-efficiently title="Permanent link">&para;</a></h2> <div class="admonition info"> <p class=admonition-title>redux-toolkit or reduxsauce</p> <p>These are the libraries that you should use for creating highly readable redux code, and much easier to maintain redux code in your app.</p> </div> <h2 id=action>action<a class=headerlink href=#action title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ADD_NOTE</span> <span class=o>=</span> <span class=s1>&#39;ADD_NOTE&#39;</span><span class=p>;</span>

<span class=kr>export</span> <span class=kd>function</span> <span class=nx>addNote</span><span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=nx>ADD_NOTE</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=o>:</span> <span class=nx>content</span> <span class=p>};</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <ul> <li>We are exporting a constant <code>ADD_NOTE</code>, since we’re going to be needing it in several places later on.</li> <li>We are exporting the function <code>addNote</code>. This function is an <strong>action creator</strong>, which means that its job is to only return a plain object.</li> </ul> <h2 id=reducer>reducer<a class=headerlink href=#reducer title="Permanent link">&para;</a></h2> <blockquote> <p>(previousState, action) =&gt; newState</p> </blockquote> <p>It takes two arguments: the previous app state, the action being dispatched and returns the new app state.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ADD_NOTE</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./actions&#39;</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>initialState</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>notes</span><span class=o>:</span> <span class=p>[]</span>
<span class=p>};</span>

<span class=kd>function</span> <span class=nx>rootReducer</span><span class=p>(</span><span class=nx>state</span> <span class=o>=</span> <span class=nx>initialState</span><span class=p>,</span> <span class=nx>action</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>switch</span><span class=p>(</span><span class=nx>action</span><span class=p>.</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>case</span> <span class=nx>ADD_NOTE</span><span class=o>:</span>
      <span class=k>return</span> <span class=p>{</span>
        <span class=nx>notes</span><span class=o>:</span> <span class=p>[</span>
          <span class=p>...</span><span class=nx>state</span><span class=p>.</span><span class=nx>notes</span><span class=p>,</span>
          <span class=p>{</span>
            <span class=nx>title</span><span class=o>:</span> <span class=nx>action</span><span class=p>.</span><span class=nx>title</span><span class=p>,</span>
            <span class=nx>content</span><span class=o>:</span> <span class=nx>action</span><span class=p>.</span><span class=nx>content</span>
          <span class=p>}</span>
        <span class=p>]</span>
      <span class=p>};</span>
    <span class=k>default</span><span class=o>:</span>
      <span class=k>return</span> <span class=nx>state</span><span class=p>;</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>rootReducer</span><span class=p>;</span>
</pre></div> </td></tr></table> <h2 id=mapstatetoprops>mapStateToProps<a class=headerlink href=#mapstatetoprops title="Permanent link">&para;</a></h2> <blockquote> <p>If you provide mapStateToProps then only the component is subscribed to store - re-render when state's object get changed. It listen to state's changes.</p> </blockquote> <table> <thead> <tr> <th>Subscribe</th> <th>Not subscribe</th> </tr> </thead> <tbody> <tr> <td>connect(mapStateToProps)(Component)</td> <td>connect()(Component)</td> </tr> <tr> <td>connect(mapStateToProps, mapDispatchToProps)(Component)</td> <td>connect(null, mapDispatchToProps)(Component)</td> </tr> </tbody> </table> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>class</span> <span class=nx>Notes</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>notes</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>const</span> <span class=nx>mapStateToProps</span> <span class=o>=</span> <span class=nx>state</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>{</span>
    <span class=nx>notes</span><span class=o>:</span> <span class=nx>state</span><span class=p>.</span><span class=nx>notes</span>
  <span class=p>};</span>
<span class=p>};</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>connect</span><span class=p>(</span><span class=nx>mapStateToProps</span><span class=p>)(</span><span class=nx>Notes</span><span class=p>);</span>
</pre></div> </td></tr></table> <p><code>mapStateToProps</code> takes an <strong>optional second argument</strong>, which lets you use the component own props that are not from store.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>const</span> <span class=nx>mapStateToProps</span> <span class=o>=</span> <span class=p>(</span><span class=nx>state</span><span class=p>,</span> <span class=nx>ownProps</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>{</span>
    <span class=nx>notes</span><span class=o>:</span> <span class=nx>state</span><span class=p>.</span><span class=nx>notes</span>
  <span class=p>};</span>
<span class=p>};</span>
</pre></div> </td></tr></table> <h3 id=selectors>Selectors<a class=headerlink href=#selectors title="Permanent link">&para;</a></h3> <p>A selector is simply this: A function that takes the current application state and returns the relevant portion needed by the view.</p> <p>For example:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// This is what we usually do to get</span>
<span class=c1>// state and map to props. We are doing</span>
<span class=c1>// filter operation on state before mapping</span>
<span class=c1>// to props. This may lead to messy mapStateToProps</span>
<span class=c1>// function.</span>
<span class=kd>function</span> <span class=nx>mapStateToProps</span><span class=p>(</span><span class=nx>state</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>{</span>
    <span class=nx>incompleteTodos</span><span class=o>:</span> <span class=nx>state</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=k>return</span> <span class=o>!</span><span class=nx>todo</span><span class=p>.</span><span class=nx>completed</span>
    <span class=p>});</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>Instead, we can create selector function in reducer file:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c1>// Selector</span>
<span class=kd>function</span> <span class=nx>getIncompleteTodos</span><span class=p>(</span><span class=nx>state</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=nx>state</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>return</span> <span class=o>!</span><span class=nx>todo</span><span class=p>.</span><span class=nx>completed</span>
  <span class=p>});</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>Now, we could use the newly created selector in its place:</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kd>function</span> <span class=nx>mapStateToProps</span><span class=p>(</span><span class=nx>state</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>{</span>
    <span class=nx>incompleteTodos</span><span class=o>:</span> <span class=nx>getIncompleteTodos</span><span class=p>(</span><span class=nx>state</span><span class=p>)</span>
  <span class=p>};</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <p>The code is more concise and we have made a big step toward encapsulating our state tree. The component no longer cares how todos are stored in the state tree and it will be much easier to refactor if the state tree needs to be updated!</p> <h2 id=mapdispatchtoprops>mapDispatchToProps<a class=headerlink href=#mapdispatchtoprops title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>addNote</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./actions&#39;</span><span class=p>;</span>

<span class=kr>class</span> <span class=nx>NotesForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>handleSubmission</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// dispatch action</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>addNote</span><span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>const</span> <span class=nx>mapDispatchToProps</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>addNote</span><span class=o>:</span> <span class=nx>addNote</span>
<span class=p>};</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>connect</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>mapDispatchToProps</span><span class=p>)(</span><span class=nx>NotesForm</span><span class=p>);</span>
</pre></div> </td></tr></table> <h3 id=number-of-ways-to-dispatch>Number of ways to dispatch<a class=headerlink href=#number-of-ways-to-dispatch title="Permanent link">&para;</a></h3> <h4 id=default-dispatch-as-a-prop>Default: dispatch as a Prop<a class=headerlink href=#default-dispatch-as-a-prop title="Permanent link">&para;</a></h4> <p>If you don't specify the second argument <code>mapDispatchToProps</code>, your component will receive <code>props.dispatch</code> as prop by default.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>addNote</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./actions&#39;</span><span class=p>;</span>

<span class=kr>class</span> <span class=nx>NotesForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>

  <span class=nx>handleSubmission</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// dispatch action</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>dispatch</span><span class=p>(</span><span class=nx>addNote</span><span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>));</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>connect</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=kc>null</span><span class=p>)(</span><span class=nx>NotesForm</span><span class=p>);</span>
</pre></div> </td></tr></table> <h4 id=using-mapdispatchtoprops>Using mapDispatchToProps<a class=headerlink href=#using-mapdispatchtoprops title="Permanent link">&para;</a></h4> <p>If you define your own mapDispatchToProps, the connected component will no longer receive dispatch.</p> <p>It lets you provide action dispatching functions as props. Therefore, instead of calling <code>this.props.dispatch(() =&gt; addNote())</code>, you may call <code>this.props.addNote()</code> directly. Having dispatch function as prop you can <strong>pass it down to child</strong> component as prop. So child comp need not be aware of redux and requir to be connected using <code>connect()</code> and still dispatch an action.</p> <h5 id=1-mapdispatchtoprops-as-a-function>[1] mapDispatchToProps as a function<a class=headerlink href=#1-mapdispatchtoprops-as-a-function title="Permanent link">&para;</a></h5> <p>Allows more customization.</p> <ul> <li>Arguments: <code>dispatch</code> and optional <code>ownProps</code>.</li> <li>Return: plain object where each key will become a prop of a component, and the value should normally be a function that dispatches an action when called.</li> </ul> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>addNote</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./actions&#39;</span><span class=p>;</span>

<span class=kr>class</span> <span class=nx>NotesForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>

  <span class=nx>handleSubmission</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// dispatch action</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>addNote</span><span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>const</span> <span class=nx>mapDispatchToProps</span> <span class=o>=</span> <span class=p>(</span><span class=nx>dispatch</span><span class=p>,</span> <span class=nx>ownProps</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>{</span>
    <span class=nx>addNote</span><span class=o>:</span> <span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>dispatch</span><span class=p>(</span><span class=nx>addNote</span><span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>))</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>connect</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>mapDispatchToProps</span><span class=p>)(</span><span class=nx>NotesForm</span><span class=p>);</span>
</pre></div> </td></tr></table> <h5 id=2-mapdispatchtoprops-as-a-object>[2] mapDispatchToProps as a object<a class=headerlink href=#2-mapdispatchtoprops-as-a-object title="Permanent link">&para;</a></h5> <blockquote> <p>We recommend always using the “object shorthand” form of mapDispatchToProps, unless you have a specific reason to customize the dispatching behavior.</p> </blockquote> <p>Setup for dispatching Redux actions in a React component follows a very similar process: define an action creator, wrap it in another function that looks like <code>(…args) =&gt; dispatch(actionCreator(…args))</code>, and pass that wrapper function as a prop to your component.</p> <p>Because this is so common, connect supports an “object shorthand” form for the mapDispatchToProps argument: if you pass an object full of action creators instead of a function, <code>connect</code> will automatically call <code>bindActionCreators</code> for you internally.</p> <p><strong>Note:</strong> Each key of the mapDispatchToProps object is an action creator.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>addNote</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./actions&#39;</span><span class=p>;</span>

<span class=kr>class</span> <span class=nx>NotesForm</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>

  <span class=nx>handleSubmission</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// dispatch action</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>addNote</span><span class=p>(</span><span class=nx>title</span><span class=p>,</span> <span class=nx>content</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>const</span> <span class=nx>mapDispatchToProps</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>addNote</span><span class=o>:</span> <span class=nx>addNote</span>
<span class=p>};</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>connect</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>mapDispatchToProps</span><span class=p>)(</span><span class=nx>NotesForm</span><span class=p>);</span>
</pre></div> </td></tr></table> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>