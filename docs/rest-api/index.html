<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Notebook collections"><link href=https://abhaydgarg.github.io/Notebook/index.html/rest-api/ rel=canonical><meta name=author content="Abhay Garg"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Notebook</title><link rel=stylesheet href=../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#rest-api tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Notebook </span> <span class=md-header-nav__topic> REST API </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://abhaydgarg.github.io/Notebook/index.html title=Notebook class="md-nav__button md-logo"> <i class=md-icon></i> </a> Notebook </label> <div class=md-nav__source> <a href=https://github.com/abhaydgarg/Notebook/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../computer-science/ title=CS class=md-nav__link> CS </a> </li> <li class=md-nav__item> <a href=../parser/ title=Parser class=md-nav__link> Parser </a> </li> <li class=md-nav__item> <a href=../data-structure-and-algorithms/ title="Data Structure and Algorithms" class=md-nav__link> Data Structure and Algorithms </a> </li> <li class=md-nav__item> <a href=../oops/ title=OOPS class=md-nav__link> OOPS </a> </li> <li class=md-nav__item> <a href=../design-patterns/ title="Design Patterns" class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../git/ title=GIT class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../css/ title=CSS class=md-nav__link> CSS </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> REST API </label> <a href=./ title="REST API" class="md-nav__link md-nav__link--active"> REST API </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#versioning class=md-nav__link> Versioning </a> </li> <li class=md-nav__item> <a href=#resource-archetypes class=md-nav__link> Resource archetypes </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#document class=md-nav__link> Document </a> </li> <li class=md-nav__item> <a href=#collection class=md-nav__link> Collection </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#use-nouns-instead-of-verbs class=md-nav__link> Use nouns instead of verbs </a> </li> <li class=md-nav__item> <a href=#crud-function-names-should-not-be-used-in-uris class=md-nav__link> CRUD function names should not be used in URIs </a> </li> <li class=md-nav__item> <a href=#use-resource-nesting-to-show-relations-or-hierarchy class=md-nav__link> Use resource nesting to show relations or hierarchy </a> </li> <li class=md-nav__item> <a href=#a-trailing-forward-slash-should-not-be-included-in-uris class=md-nav__link> A trailing forward slash (/) should not be included in URIs </a> </li> <li class=md-nav__item> <a href=#lowercase-letters-should-be-preferred-in-uri-paths class=md-nav__link> Lowercase letters should be preferred in URI paths </a> </li> <li class=md-nav__item> <a href=#the-query-component-of-a-uri-may-be-used-to-filter-collections-or-stores class=md-nav__link> The query component of a URI may be used to filter collections or stores </a> </li> <li class=md-nav__item> <a href=#request-methods class=md-nav__link> Request Methods </a> </li> <li class=md-nav__item> <a href=#response-status-codes class=md-nav__link> Response status codes </a> </li> <li class=md-nav__item> <a href=#json-must-be-well-formed class=md-nav__link> JSON must be well-formed </a> </li> <li class=md-nav__item> <a href=#http-headers class=md-nav__link> HTTP Headers </a> </li> <li class=md-nav__item> <a href=#use-standard-http-error-code-to-inform-client-about-error class=md-nav__link> Use standard HTTP error code to inform client about error </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#error-response class=md-nav__link> Error Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#what-should-be-the-responses-data-and-http-status-code class=md-nav__link> What should be the response's data and HTTP status code? </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#get-200 class=md-nav__link> GET: 200 </a> </li> <li class=md-nav__item> <a href=#post-201 class=md-nav__link> POST: 201 </a> </li> <li class=md-nav__item> <a href=#put-200-204 class=md-nav__link> PUT: 200 | 204 </a> </li> <li class=md-nav__item> <a href=#delete-200-204 class=md-nav__link> DELETE: 200 | 204 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#put-vs-patch class=md-nav__link> PUT vs PATCH </a> </li> <li class=md-nav__item> <a href=#what-is-bestworst-range-for-response-time class=md-nav__link> What is best/worst range for response time? </a> </li> <li class=md-nav__item> <a href=#others class=md-nav__link> Others </a> </li> <li class=md-nav__item> <a href=#not-found class=md-nav__link> Not found </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#params-model-for-function-that-consume-api class=md-nav__link> Params model for function that consume API </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../javascript/ title=Javascript class=md-nav__link> Javascript </a> </li> <li class=md-nav__item> <a href=../nodejs/ title=Node.js class=md-nav__link> Node.js </a> </li> <li class=md-nav__item> <a href=../npm/ title=NPM class=md-nav__link> NPM </a> </li> <li class=md-nav__item> <a href=../redux/ title=Redux class=md-nav__link> Redux </a> </li> <li class=md-nav__item> <a href=../react/ title=React class=md-nav__link> React </a> </li> <li class=md-nav__item> <a href=../react-native/ title="React Native" class=md-nav__link> React Native </a> </li> <li class=md-nav__item> <a href=../mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> <li class=md-nav__item> <a href=../web-security/ title="Web Security" class=md-nav__link> Web Security </a> </li> <li class=md-nav__item> <a href=../rust/ title=Rust class=md-nav__link> Rust </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#versioning class=md-nav__link> Versioning </a> </li> <li class=md-nav__item> <a href=#resource-archetypes class=md-nav__link> Resource archetypes </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#document class=md-nav__link> Document </a> </li> <li class=md-nav__item> <a href=#collection class=md-nav__link> Collection </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#use-nouns-instead-of-verbs class=md-nav__link> Use nouns instead of verbs </a> </li> <li class=md-nav__item> <a href=#crud-function-names-should-not-be-used-in-uris class=md-nav__link> CRUD function names should not be used in URIs </a> </li> <li class=md-nav__item> <a href=#use-resource-nesting-to-show-relations-or-hierarchy class=md-nav__link> Use resource nesting to show relations or hierarchy </a> </li> <li class=md-nav__item> <a href=#a-trailing-forward-slash-should-not-be-included-in-uris class=md-nav__link> A trailing forward slash (/) should not be included in URIs </a> </li> <li class=md-nav__item> <a href=#lowercase-letters-should-be-preferred-in-uri-paths class=md-nav__link> Lowercase letters should be preferred in URI paths </a> </li> <li class=md-nav__item> <a href=#the-query-component-of-a-uri-may-be-used-to-filter-collections-or-stores class=md-nav__link> The query component of a URI may be used to filter collections or stores </a> </li> <li class=md-nav__item> <a href=#request-methods class=md-nav__link> Request Methods </a> </li> <li class=md-nav__item> <a href=#response-status-codes class=md-nav__link> Response status codes </a> </li> <li class=md-nav__item> <a href=#json-must-be-well-formed class=md-nav__link> JSON must be well-formed </a> </li> <li class=md-nav__item> <a href=#http-headers class=md-nav__link> HTTP Headers </a> </li> <li class=md-nav__item> <a href=#use-standard-http-error-code-to-inform-client-about-error class=md-nav__link> Use standard HTTP error code to inform client about error </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#error-response class=md-nav__link> Error Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#what-should-be-the-responses-data-and-http-status-code class=md-nav__link> What should be the response's data and HTTP status code? </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#get-200 class=md-nav__link> GET: 200 </a> </li> <li class=md-nav__item> <a href=#post-201 class=md-nav__link> POST: 201 </a> </li> <li class=md-nav__item> <a href=#put-200-204 class=md-nav__link> PUT: 200 | 204 </a> </li> <li class=md-nav__item> <a href=#delete-200-204 class=md-nav__link> DELETE: 200 | 204 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#put-vs-patch class=md-nav__link> PUT vs PATCH </a> </li> <li class=md-nav__item> <a href=#what-is-bestworst-range-for-response-time class=md-nav__link> What is best/worst range for response time? </a> </li> <li class=md-nav__item> <a href=#others class=md-nav__link> Others </a> </li> <li class=md-nav__item> <a href=#not-found class=md-nav__link> Not found </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#params-model-for-function-that-consume-api class=md-nav__link> Params model for function that consume API </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhaydgarg/Notebook/tree/master/src/rest-api/README.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=rest-api>REST API<a class=headerlink href=#rest-api title="Permanent link">&para;</a></h1> <h2 id=versioning>Versioning<a class=headerlink href=#versioning title="Permanent link">&para;</a></h2> <p>Version API.</p> <h2 id=resource-archetypes>Resource archetypes<a class=headerlink href=#resource-archetypes title="Permanent link">&para;</a></h2> <h3 id=document>Document<a class=headerlink href=#document title="Permanent link">&para;</a></h3> <p>A document resource is a singular concept that is akin to an object instance or database record.</p> <div class="admonition important"> <p class=admonition-title>Important</p> <p>A <strong>singular noun</strong> should be used for document names</p> <p><code>http://api.soccer.restapi.org/leagues/seattle/teams/trebuchet/players/claudio</code></p> </div> <h3 id=collection>Collection<a class=headerlink href=#collection title="Permanent link">&para;</a></h3> <p>A collection resource is a server-managed directory of resources.</p> <div class="admonition important"> <p class=admonition-title>Important</p> <p>A <strong>plural noun</strong> should be used for collection names</p> <p><code>http://api.soccer.restapi.org/leagues/seattle/teams/trebuchet/players</code></p> </div> <h2 id=use-nouns-instead-of-verbs>Use nouns instead of verbs<a class=headerlink href=#use-nouns-instead-of-verbs title="Permanent link">&para;</a></h2> <div class="admonition important"> <p class=admonition-title>Important</p> <p>All url which deal with books below are same and their action is identified by HTTP request method.</p> </div> <div class="admonition example"> <p class=admonition-title>Correct way</p> <ul> <li>GET /books/123</li> <li>DELETE /books/123</li> <li>POST /books</li> <li>PUT /books/123</li> </ul> </div> <div class="admonition example"> <p class=admonition-title>Wrong way</p> <ul> <li>GET /addBooks/123</li> <li>GET /DeleteBooks/123</li> <li>POST /DeleteAllBooks</li> <li>POST /books/123/delete</li> </ul> </div> <h2 id=crud-function-names-should-not-be-used-in-uris>CRUD function names should not be used in URIs<a class=headerlink href=#crud-function-names-should-not-be-used-in-uris title="Permanent link">&para;</a></h2> <p>HTTP request methods should be used to indicate which CRUD function is performed.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>DELETE /users/1234</p> <p><strong>Wrong:</strong> /users/1234/delete</p> </div> <h2 id=use-resource-nesting-to-show-relations-or-hierarchy>Use resource nesting to show relations or hierarchy<a class=headerlink href=#use-resource-nesting-to-show-relations-or-hierarchy title="Permanent link">&para;</a></h2> <p>For example in the online store, we have ‘users’ and ‘orders’. Orders always belong to some user, therefore we may have the following endpoints structure laid out:</p> <div class="admonition example"> <p class=admonition-title>Example</p> <ul> <li>/users - user’s list</li> <li>/users/123 - specific user</li> <li>/users/123/orders - orders list that belongs to a specific user</li> <li>/users/123/orders/0001 - specific order of a specific user</li> </ul> </div> <h2 id=a-trailing-forward-slash-should-not-be-included-in-uris>A trailing forward slash (/) should not be included in URIs<a class=headerlink href=#a-trailing-forward-slash-should-not-be-included-in-uris title="Permanent link">&para;</a></h2> <div class="admonition example"> <p class=admonition-title>Example</p> <ul> <li><strong>Correct:</strong> http://api.canvas.restapi.org/shapes</li> <li><strong>Wrong:</strong> http://api.canvas.restapi.org/shapes/</li> </ul> </div> <h2 id=lowercase-letters-should-be-preferred-in-uri-paths>Lowercase letters should be preferred in URI paths<a class=headerlink href=#lowercase-letters-should-be-preferred-in-uri-paths title="Permanent link">&para;</a></h2> <h2 id=the-query-component-of-a-uri-may-be-used-to-filter-collections-or-stores>The query component of a URI may be used to filter collections or stores<a class=headerlink href=#the-query-component-of-a-uri-may-be-used-to-filter-collections-or-stores title="Permanent link">&para;</a></h2> <div class="admonition example"> <p class=admonition-title>Example</p> <p>GET /users?role=admin</p> </div> <h2 id=request-methods>Request Methods<a class=headerlink href=#request-methods title="Permanent link">&para;</a></h2> <ul> <li>GET must be used to retrieve a resource.</li> <li>HEAD should be used to retrieve response headers.</li> <li>PUT must be used to update whole resource.</li> <li>PATCH must be used to partially update resource.</li> <li>POST must be used to create a new resource.</li> <li>DELETE must be used to remove a resource.</li> </ul> <h2 id=response-status-codes>Response status codes<a class=headerlink href=#response-status-codes title="Permanent link">&para;</a></h2> <ul> <li><strong>1xx: Informational</strong> - Communicates transfer protocol-level information.</li> <li><strong>2xx: Success</strong> - Indicates that the client’s request was accepted successfully.</li> <li><strong>3xx: Redirection</strong> - Indicates that the client must take some additional action in order to complete their request.</li> <li><strong>4xx: Client Error</strong> - This category of error status codes points the finger at clients.</li> <li><strong>5xx: Server Error</strong> - The server takes responsibility for these error status codes.</li> </ul> <h2 id=json-must-be-well-formed>JSON must be well-formed<a class=headerlink href=#json-must-be-well-formed title="Permanent link">&para;</a></h2> <p><a href=https://abhaydgarg.github.io/Notebook/javascript/json/ >Guidelines</a></p> <h2 id=http-headers>HTTP Headers<a class=headerlink href=#http-headers title="Permanent link">&para;</a></h2> <ul> <li>Content-Type must be used.</li> <li>Content-Length should be used - Two reasons. First, a client can know whether it has read the correct number of bytes from the connection. Second, a client can make a HEAD request to find out how large the entity-body is, without downloading it.</li> <li>Last-Modified should be used in responses - Clients and cache intermediaries may rely on header to determine the freshness of their local copies of a resource’s state representation.</li> <li>ETag should be used in responses.</li> <li>Cache-Control, Expires, and Date response headers should be used to encourage caching.</li> </ul> <h2 id=use-standard-http-error-code-to-inform-client-about-error>Use standard HTTP error code to inform client about error<a class=headerlink href=#use-standard-http-error-code-to-inform-client-about-error title="Permanent link">&para;</a></h2> <p>Always send already existed http error to client. For example, validation failed can be sent with status code Bad Request (400) and say during establishing DB connection or reading file.</p> <p>If any error occurred then you should never send error message to client that DB connection is failed. Just send http error 500 to client. And internally you can use watchdog that will log errors to DB or file for developer to check.</p> <h3 id=error-response>Error Response<a class=headerlink href=#error-response title="Permanent link">&para;</a></h3> <blockquote> <p>Must have uniform error model/schema.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=p>{</span>
  <span class=nx>statusCode</span><span class=o>:</span> <span class=s2>&quot;number&quot;</span>   <span class=c1>// the http status code</span>
  <span class=nx>error</span><span class=o>:</span> <span class=s2>&quot;string&quot;</span>        <span class=c1>// the http error message</span>
  <span class=nx>message</span><span class=o>:</span> <span class=s2>&quot;string&quot;</span>      <span class=c1>// the user error message</span>
<span class=p>}</span>

<span class=c1>// Example.</span>
<span class=p>{</span>
  <span class=nx>statusCode</span><span class=o>:</span> <span class=mi>400</span>
  <span class=nx>error</span><span class=o>:</span> <span class=s2>&quot;Bad Request&quot;</span>
  <span class=nx>message</span><span class=o>:</span> <span class=s2>&quot;body.id is required parameter.&quot;</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <h2 id=what-should-be-the-responses-data-and-http-status-code>What should be the response's data and HTTP status code?<a class=headerlink href=#what-should-be-the-responses-data-and-http-status-code title="Permanent link">&para;</a></h2> <p>There are 3 options that you can choose. All options have their own benefits and drawbacks. That you can easily undesratnd when you go though each options.</p> <ol> <li>For <code>create</code> and <code>update</code>, API can send whole record back in response. This involves an extra job for API to prepare record after request get successful. Also, the logic that is used in a <code>GET</code> for single record has to be re-used in <code>create</code> and <code>update</code>. So you have to ensure that the logic should not be repeated in multiple places. This is the thing that need to take care on this approach. For <code>delete</code>, API can simply send the ID that was deleted in response's body.</li> <li>For <code>create</code>, <code>update</code>, and <code>delete</code>, API can either send a ID in a response's body or in a custom header. And let the API consumer to decide to use ID to fetch fresh record or leave it.</li> <li>API does not send any content back.</li> </ol> <blockquote> <p>In my opinion, the easies approach for API with less/simpler code is sending ID either in response body or custom header.</p> </blockquote> <div class="admonition info"> <p class=admonition-title>Custom Header Naming</p> <ul> <li>Use of <code>X-</code> has been deprecated. But you can still use it.</li> <li>Must be lower-case and separated by <code>-</code>.</li> </ul> <p><strong>Reccommendation:</strong> Use name without <code>-X</code> that reflects the purpose clearly.</p> </div> <div class="admonition note"> <p class=admonition-title>node.js</p> <p>Headers are case-insensitive. But node.js web server explicitly converts them to lower-case. That's because Javascript is case-sensitive, so to simplify things they normalize all headers to lower-case.</p> </div> <h3 id=get-200>GET: 200<a class=headerlink href=#get-200 title="Permanent link">&para;</a></h3> <h3 id=post-201>POST: 201<a class=headerlink href=#post-201 title="Permanent link">&para;</a></h3> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>#</span> <span class=k>Set</span> <span class=k>location</span> <span class=n>header</span> <span class=k>of</span> <span class=n>created</span> <span class=n>resource</span><span class=p>.</span>
<span class=k>Location</span><span class=p>:</span> <span class=o>/</span><span class=n>v1</span><span class=o>/</span><span class=n>items</span><span class=o>/</span><span class=mi>12</span>

<span class=o>#</span> <span class=n>Response</span>
<span class=mi>1</span><span class=p>.</span> <span class=n>Newly</span> <span class=n>created</span> <span class=n>record</span> <span class=k>data</span> <span class=o>|</span> <span class=n>record</span> <span class=n>ID</span> <span class=k>in</span> <span class=n>response</span><span class=err>&#39;</span><span class=n>s</span> <span class=n>body</span><span class=p>.</span>
<span class=mi>2</span><span class=p>.</span> <span class=n>Record</span> <span class=n>ID</span> <span class=k>in</span> <span class=n>custom</span> <span class=n>header</span><span class=p>.</span>
<span class=mi>3</span><span class=p>.</span> <span class=k>no</span><span class=o>-</span><span class=n>content</span><span class=p>.</span>
</pre></div> </td></tr></table> <h3 id=put-200-204>PUT: 200 | 204<a class=headerlink href=#put-200-204 title="Permanent link">&para;</a></h3> <blockquote> <p>204 - when no content is send back in reponse.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>#</span> <span class=n>Response</span>
<span class=mi>1</span><span class=p>.</span> <span class=n>Updated</span> <span class=n>record</span> <span class=k>data</span> <span class=o>|</span> <span class=n>record</span> <span class=n>ID</span> <span class=k>in</span> <span class=n>response</span><span class=err>&#39;</span><span class=n>s</span> <span class=n>body</span><span class=p>.</span>
<span class=mi>2</span><span class=p>.</span> <span class=n>Record</span> <span class=n>ID</span> <span class=k>in</span> <span class=n>custom</span> <span class=n>header</span><span class=p>.</span>
<span class=mi>3</span><span class=p>.</span> <span class=k>no</span><span class=o>-</span><span class=n>content</span><span class=p>.</span>
</pre></div> </td></tr></table> <h3 id=delete-200-204>DELETE: 200 | 204<a class=headerlink href=#delete-200-204 title="Permanent link">&para;</a></h3> <blockquote> <p>204 - when no content is send back in reponse.</p> </blockquote> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=o>#</span> <span class=n>Response</span>
<span class=mi>1</span><span class=p>.</span> <span class=n>Record</span> <span class=n>ID</span> <span class=k>in</span> <span class=n>response</span><span class=err>&#39;</span><span class=n>s</span> <span class=n>body</span><span class=p>.</span>
<span class=mi>2</span><span class=p>.</span> <span class=n>Record</span> <span class=n>ID</span> <span class=k>in</span> <span class=n>custom</span> <span class=n>header</span><span class=p>.</span>
<span class=mi>3</span><span class=p>.</span> <span class=k>no</span><span class=o>-</span><span class=n>content</span><span class=p>.</span>
</pre></div> </td></tr></table> <h2 id=put-vs-patch>PUT vs PATCH<a class=headerlink href=#put-vs-patch title="Permanent link">&para;</a></h2> <p>PATCH must be used when you want to just update the record partially. And PUT must be used when you want to update the record fully. That is in request body you have to send all fields where as in PUT you send a partial fields in request body.</p> <p>PUT has a advantage that you can reuse the POST validations and request handler logic with less modifications. This makes the code easy to handle and maintain. Where as in PATCH, we can also reuse the POST validations and logic but when things get started little complex, PATCH logic also get started complex. Because in some scenarios, some fields are dependent upon others for running validations and logic also depends upon analysing more than 1 fields. Also, it becomes complex to handle required fields because in PATCH, required fields become optional. Take away is that PATCH is comlex to handle than PUT.</p> <p>We can choose to have PUT for updating the record and in special cases PATCH can be used separately along with PUT.</p> <p>If the important requirement is to save the bandwidth by reducing the amount of data to be sent in request body. Then you can choose PATCH over PUT for updting record. But build the solid strategy in how to handle PATCH complexity efficiently.</p> <h2 id=what-is-bestworst-range-for-response-time>What is best/worst range for response time?<a class=headerlink href=#what-is-bestworst-range-for-response-time title="Permanent link">&para;</a></h2> <ol> <li><strong>BEST</strong> = 0.1 sec - 0.4 sec (100 ms - 400 ms)</li> <li><strong>OK</strong> = 0.5 sec - 1 sec (500 ms - 1000 ms). There is a room for improvement.</li> <li><strong>WORST</strong> = Greater than 1.0 sec (1000 ms).</li> </ol> <h2 id=others>Others<a class=headerlink href=#others title="Permanent link">&para;</a></h2> <h2 id=not-found>Not found<a class=headerlink href=#not-found title="Permanent link">&para;</a></h2> <p>It should also be used for resource that is not found that is endpoint is correct but record is not in DB (<code>posts/1</code> - post with id 1 is not found).</p> <h3 id=params-model-for-function-that-consume-api>Params model for function that consume API<a class=headerlink href=#params-model-for-function-that-consume-api title="Permanent link">&para;</a></h3> <p>Params should be passed as object <code>params = {}</code> for all functions that consume API, so that we can add remove the fields without changing the function signature. Does not matter if there is only 1 field. Keep it uniform across all consumer functions.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre>1
2
3
4
5
6
7</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=nx>params</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>id</span><span class=o>:</span> <span class=mi>123</span><span class=p>,</span>
  <span class=nx>catId</span><span class=o>:</span> <span class=s1>&#39;women&#39;</span>
  <span class=nx>query</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>sort</span><span class=o>:</span> <span class=s1>&#39;asc&#39;</span>
  <span class=p>}</span>
<span class=p>}</span>
</pre></div> </td></tr></table> <ul> <li><code>id</code> and <code>catId</code> are path paramteres that go into for example, <code>GET app/:id/categories/:catID</code>.</li> <li><code>query</code> property contains the query parameters that build query string after <code>?</code>.</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../css/ title=CSS class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> CSS </span> </div> </a> <a href=../javascript/ title=Javascript class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Javascript </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Abhay Garg </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:".."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>